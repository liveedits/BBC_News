                              
                                                                            Media playerClose playerAfrica Live: Jammeh and family barred from USPlay audio BBC World Service AfricaAudioBBC World Service AfricaLiveBringing you the latest news from around Africa every weekday at bbc.com/africalive.Play audio BBC World Service AfricaI'll sign in laterAnd we'll keep you signed in.Sign in  or  RegisterWhy sign in to the BBC?Got a TV Licence?You need one to watch live TV on any channel or device, and BBC programmes on iPlayer. It’s the law.Find out moreI have a TV Licence. Watch now.I don’t have a TV Licence.SummaryEx-Gambian ruler blacklisted over corruption allegationsMozambique has '30,000 ghost workers on payroll'Lightning kills ten in MozambiqueFrance gives weapons to CARMuseveni calls journalists 'parasites'Kabila promises 'to oversee peaceful poll'UN urges Libyan gunmen to withdraw from oilfieldsPearl Thusi will star in spy drama Queen SonoLive ReportingBy Dickens OleweAll times stated are UKGet involvedGet involvedSend an email to africalive@bbc.co.ukTwitter:  Use the hashtag #BBCAfricaLiveFacebook:  BBC AfricaPosted at 17:38 11 Dec17:38 11 DecScroll down for Tuesday’s storiesWe'll be back on WednesdayThat's all from BBC Africa Live for now. You can keep up to date with what's happening across the continent by listening to the Africa Today podcast or checking the BBC News website.A reminder of Tuesday's wise words:Quote Message: Choice is better than compulsion." from A Swahili proverb sent by Salim, in the UK. Choice is better than compulsion."A Swahili proverb sent by Salim, in the UK.Click here to send us your African proverbs.And we leave you with this picture of a dance group in Zimbabwe's second city of Bulawayo:View more on instagramView more on instagramPosted at 17:30 11 Dec17:30 11 DecKagame joins soldiers in a jigRwanda's President Paul Kagame has been attending the final day of an annual combat training session for the country's army in the northern region of Gabiro. His office has shared a short video clip of him joining soldiers in a celebratory dance: View more on twitterView more on twitterPosted at 17:24 11 Dec17:24 11 DecLiberia to learn how to handle 'imported' currencyJonathan Paye-LaylehBBC Africa, MonroviaBBCCopyright: BBCCentral Bank Governor Nathaniel Patray denied that millions of dollars were missing.Image caption: Central Bank Governor Nathaniel Patray denied that millions of dollars were missing.Liberia's central bank chief Nathaniel
Patray has told the BBC he’s in consultations with his colleagues in the sub-region to
advise him on how to handle money printed abroad and then brought into the country.Liberian officials denied last month the alleged disappearance of more than $100m (£76m) of newly printed bank notes intended for the central bank.The notes allegedly vanished from containers in Monrovia’s port and airport - and the government ordered an investigation in September.Mr Patray denied the money was missing, saying an internal audit found that all the notes, shipped from a Swedish printer between 2016 and 2018, had been accounted for and had been stored in vaults.Posted at 17:11 11 Dec17:11 11 DecAtiku boycotts 'election peace agreement'Ishaq KhalidBBC Africa, AbujaAFPCopyright: AFPIt is unclear Atiku Abubakar boycotted the election peace pactImage caption: It is unclear Atiku Abubakar boycotted the election peace pactNigeria's main opposition presidential candidate Atiku Abubakar has boycotted an event to commit candidates to promote peace during what is expected to be tightly contested elections next year.The peace pledge was signed by President Muhammadu Buhari. It is not clear why Atiku Abubakar and his party, the People's Democratic Party (PDP), failed to sign the accord brokered by National Peace Committee, which is headed by former President Abdulsalami Abubakar.The pact specifically mandates candidates to publicly speak
against religious, ethnic and electoral violence.In 2015, a similar accord is
believed to have helped in ensuring peaceful polls which led to then-President
Goodluck Jonathan accepting defeat.But the boycott by the main opposition party
and its presidential candidate is seen as a major blow to this year's accord. However, Abdulsalami Abubakar said the
absence of the main  opposition candidate will not weaken the agreement, which was signed by more than 70 candidates.Posted at 16:42 11 Dec16:42 11 DecMuseveni calls journalists 'parasites'A video clip of Uganda's President Yoweri Museveni berating a local reporter during Monday's press conference about his government's fight against corruption is being shared online. "You parasites. You go misrepresenting our work. You don't have that right. You have to report the truth. You better watch out. Your games are over," Mr Museveni told the NBS TV journalist Joseph Sabiti as he prepared to ask him a question.Mr Sabiti defended the TV station, saying "it is loyal to Uganda" but Mr Museveni dismissed him. Watch the clip below: View more on twitterView more on twitterMr Museveni said at the event that the country’s powerful
Foreign Minister Sam Kutesa is under investigation over allegations he took a $500,000 (£396,000) bribe from former Hong Kong minister, Patrick Ho Chi-ping, who was found guilty in the US for bribery and money-laundering counts. He was found to have offered millions of dollars to African officials for oil rights in Chad and Uganda. Mr Museveni said Mr Kutesa had told him that the amount he was given was for a charity. Posted at 16:12 11 Dec16:12 11 DecFrance gives weapons to CARBBC World ServiceFrance has handed over more than 1,000 assault rifles to the military in the Central African Republic, where rebel groups have forced about 750,000 people to flee their homes. The UN imposed an arms embargo five years ago after civil war broke out - but exemptions have been made, including last year when Russia supplied a similar consignment of weapons.  Correspondents say Russia has mining interests in the CAR and has deployed hundreds of military advisers. After handing over the weapons the French armed forces minister, Florence Parly, called on all countries, including Russia, to support African Union-led peace talks in CAR. Russia has been criticised for organising a different set of peace talks.Posted at 15:49 11 Dec15:49 11 DecCongo leader denies family is corruptVideo contentVideo caption: President Joseph Kabila discusses free elections, corruption and his future in a rare BBC interviewPresident Joseph Kabila discusses free elections, corruption and his future in a rare BBC interviewUpcoming elections in the Democratic Republic of Congo could mark the country’s first ever peaceful transition of power.After 17 years as president, Joseph Kabila surprised many by announcing he will step down.His presidency has been dogged by allegations of corruption and human rights abuses.In a rare interview with the BBC, the president says he expects no formal role in the next elected government.However, he did not rule out standing again in 2023.Reporter: Louise DewastVideo producers: Maxime Le Hegarat and Naomi Scherbel-BallPosted at 15:13 11 Dec15:13 11 DecLightning kills ten in MozambiqueJose TembeBBC Africa, MaputoAt least ten people have been killed after being struck by lightning in Mozambique's central and northern regions following torrential rains, accompanied by thunderstorms, and strong winds, relief authorities say. Most of the deaths occurred over the past weekend, particularly in the
provinces of Sofala, Zambezia, Manica, Tete and Niassa. More than 500 families have been left homeless, following the partial or
total destruction of their houses, most of which were built with flimsy material. Augusta Maita, the General Director of Mozambique’s National Disasters
Management Institute, urged people to observe preventative measures being given: Quote Message: When there’s atmospheric lightning, people should not remain under trees, those in swimming pools or rivers should abandon their contact with water. When there’s atmospheric lightning, people should not remain under trees, those in swimming pools or rivers should abandon their contact with water.Quote Message: If there’s lightning or severe thunderstorms and people are at home, one of the key measures to take is to switch off the electric board. This will help us reduce the loss of human lives due to lightning or electric discharge." If there’s lightning or severe thunderstorms and people are at home, one of the key measures to take is to switch off the electric board. This will help us reduce the loss of human lives due to lightning or electric discharge."Acacio Tembe, a weather expert from Mozambique’s National Weather Institute (Iname, said the extreme weather has abated but it is expected to hit the central region from Thursday.The rainy season in Mozambique began in October and will last until the end of March. The worst effects of torrential rains in the country were the flooding in 2000, which left 700 people dead and over one million others displaced.Posted at 14:32 11 Dec14:32 11 DecRwanda genocide suspect extraditedWill RossAfrica editor, BBC World ServiceThe Rwandan authorities say a genocide
suspect has been extradited from Denmark and will be back in the country in a
few hours' time.  Wenceslas Twagirayezu is accused of carrying out
atrocities during the 1994 genocide in which an estimated 800,000 Tutsis and
moderate Hutus were killed.Rwandan prosecutors accuse Mr Twagirayezu of extermination, murder and crimes against humanity. At the time he was a local official of the Coalition for
the Defence of the Republic (CDR) - a radical pro-Hutu party which is accused
of inciting as well as carrying out violence.  Mr Twagirayezu who is now
50 years old is also accused of leading a local militia in Rubavu District in the
north-west of the country. He had been fighting his extradition through the
courts in Denmark where he has been living since 2001.  Rwanda has issued
international arrest warrants for more than 800 people it accuses of
committing atrocities during the genocide.  Posted at 13:42 11 Dec13:42 11 Dec'Entering the ring, I become Cindi Gold'When you think of professional wrestling you probably think of the big American promotions like WWE. 
But there are local pro-wrestling associations around the world, including in South Africa. We went to meet Cindi Gold, a 19-year-old from Soweto, Johannesburg, who trains with the African Punishment Wrestling Association (APWA). We followed her preparation for a big match and heard about her dream to build a career in the sport and to encourage other young black women to get involved. Video contentVideo caption: African pro-wrestler Cindi Gold: I'm forging a path for other black womenAfrican pro-wrestler Cindi Gold: I'm forging a path for other black womenPosted at 13:05 11 Dec13:05 11 DecTen killed in DR Congo rebel attackBBC World ServiceAt least 10 people have been killed in an overnight attack by a rebel group in the east of the Democratic Republic of Congo. Local officials say suspected members of the Allied Democratic Forces (ADF) attacked the town of Oicha in the Beni region, where they looted property and animals.  The ADF, which began as a Ugandan rebel group in the 1990s, has been blamed for hundreds of killings since 2014. Insecurity in the east of Congo poses a significant threat to the elections which are due to be held in less than two weeks' time. This latest attack was also close to where health officials are struggling to contain the country's worst-ever outbreak of the Ebola virus.Posted at 12:40 11 Dec12:40 11 DecKenya unveils new currency coinsWanyama wa ChebusiriBBC Africa, NairobiKenya has unveiled new currency coins that replaces the images of presidents with animals. While presiding over the roll out in the capital Nairobi, President Uhuru
Kenyatta said the features on the new 1, 5,10 and 20 shillings coins embrace
Kenya’s historical and cultural heritage. According to Central Bank officials,
the new-look coins, which show a lion, elephant, hippo
and giraffe, will serve as a means of passing
knowledge, conserving culture, and promoting Kenya’s global uniqueness. The
Kenyan constitution, which came into effect in 2010, prohibits the use of a
person’s portrait on the country’s currencies. Authorities also say the coins
have features that are more appealing to visually impaired people.View more on twitterView more on twitterPosted at 12:06 11 Dec12:06 11 DecSA campaign to free 'widowed and lonely' elephantAnimal campaigners are divided about the welfare of the last African elephant at the Johannesburg Zoo in South Africa after her partner died in September, AP news agency reports. Some say 39-year-old Lammie should be sent to a bigger sanctuary so she wouldn’t spend her final years alone. Lammie had lived with Kinkel, a 35-year-old male elephant who was rescued in the wild after his trunk was caught in a snare in 2000, for 17 years.View more on twitterView more on twitterLammie had refused to eat around the time of her partner’s death, according to the zoo. The day before Kinkel died of illness, she was seen trying to help him get up.“Now that Lammie has lost her companion, she is in desperate need of a happier existence and the chance to live out her years with other elephants,” Audrey Delsink, wildlife director of Humane Society International/Africa, said in a statement.South Africa’s NSPCA, an animal welfare group, called for an end to “the endless and redundant cycle of continuously condemning elephants to captivity for many years to come”.The Johannesburg Zoo said that the elephant serves an educational role and hosts visitors from low-income communities who don’t have the means to visit wildlife parks. Michele Pickover, director of the EMS Foundation, which lobbies on African wildlife topics, said “nobody learns anything” by seeing a “tormented elephant” in an enclosure and that watching a documentary film about elephants would be more educational.Johannesburg Zoo spokeswoman Jenny Moodley said the zoo is hoping to find another elephant to join Lammie as per regulations set out by the World Association of Zoos and Aquariums.She said experts are intensively monitoring Lammie and that the elephant might not necessarily adapt well if placed in a new environment.“She is coping incredibly well, considering that she has lost her partner,” Ms Moodley said.Posted at 11:36 11 Dec11:36 11 DecSomalia president impeachment motion 'dropped'Ibrahim AydidBBC MonitoringAFPCopyright: AFPPresident Mohamed Abdullahi Farmajo has been accused of making secret deals with Eritrea and EthiopiaImage caption: President Mohamed Abdullahi Farmajo has been accused of making secret deals with Eritrea and EthiopiaAn impeachment motion submitted on Sunday by some Somali legislators against President Mohamed Abdullahi Farmajo has been dropped because of a lack of support.The parliamentary clerk issued a statement saying that 14
legislators had withdrawn their names from the 92 who supported the move, meaning there were no longer the required nunber of signatures to initiate the impeachment process. The 14 said their names were wrongly used and they did not support the motion.Backers of the move accused the president of violating the constitution by signing what they said were secret
deals with Ethiopia and Eritrea as well as unilaterally appointing judges and
army commanders.Posted at 11:06 11 Dec11:06 11 DecSA mosque warned over prayer noiseAuthorities in South African coastal city of Cape Town are expected to meet representatives of a local mosque after a complaint that its daily call to prayer was too noisy, news24 reports.View more on twitterView more on twitterA letter from the city's environment health officials addressed to the mosque in the Strandfontein area said a complaint had been received about "noise nuisance" every time the adhaan (call to prayer) was delivered through loudspeakers on the roof.The 4 December letter ordered Masjidus Sauligeen mosque to discontinue the noise caused by the loud speakers and submit a "noise management plan" by an accredited acoustic engineer within 21 days.An elderly person living close to the mosque submitted the complaint, News24 reports.The mosque has reportedly since replaced the call to prayer with a single beep, it adds.The mosque's Iman, Moulana Yusuf Mohammed, told the Muslim Judicial Council (MJC) that they received a complaint several years ago and they immediately decreased the volume of the loudspeaker and he was unsure if there was a new complaint.Local official Zahid Badroodien the notice had not been to instruct the mosque to end the call to prayer."The aim is rather to work with the city to find an amicable solution to address the complaints raised by either lowering the volume or engaging an acoustic engineer to develop potential solutions," he said.Posted at 10:35 11 Dec10:35 11 DecJammeh and family barred from USWill RossAfrica editor, BBC World ServiceThe US State Department has banned the former president of The Gambia, Yahya Jammeh, and his immediate family members from entering the United States. It said he was being barred because of  his involvement in corruption. Mr Jammeh went into exile in Equatorial Guinea after losing the 2016 presidential election to Adama Barrow. A truth and reconciliation commission has been set up in The Gambia to investigate the well documented human rights abuses committed during his two decades in office.Correspondents say it is unclear why the US has issued the travel ban now - two years after he left office.Read more about Yahya JammehAFPCopyright: AFPPosted at 10:00 11 Dec10:00 11 DecUN urges Libyan gunmen to withdraw from oilfieldsBBC World ServiceThe United Nations has called on gunmen
who have seized control of one of Libya's biggest oilfields to withdraw from
the site. Armed men demanding better public services for their impoverished
communities occupied the Sharara facility in the southern, Fezzan region on
Saturday. The UN mission in Libya said it understood their
grievances but shutting the facility could lead to losses of more than $30m (£23m) a day. It said this would compound the area's economic
problems. The UN urged Libyan authorities to improve services to the region.Posted at 9:26 11 Dec9:26 11 DecKabila promises 'to oversee peaceful elections'The president of the Democratic Republic of Congo, Joseph Kabila - who's due to step down after 17 years in power - says his top priority is to ensure that elections go smoothly later this month. Speaking to the BBC, Mr Kabila again refused to rule out running for office in future. He was originally due to step down two years ago. The Congolese Nobel Peace Prize winner, Denis Mukwege, says he's very worried that the presidential poll will not be free, fair or peaceful.Kambale Musavuli, a campaigner with Friends of the Congo, an advocacy organization based in Washington DC, spoke to the BBC's Newsday programme about Mr Kabila's plans to remain active in politics and possibly run for president in the future:Video contentVideo caption: Kabila says he will leave office after this month's poll, but may seek re-election laterKabila says he will leave office after this month's poll, but may seek re-election laterPosted at 8:56 11 Dec8:56 11 DecMozambique has '30,000 ghost workers on payroll'BBC World ServiceAFPCopyright: AFPMany Mozambicans complain about corruptionImage caption: Many Mozambicans complain about corruptionThe government of Mozambique says an audit of the civil service payroll has revealed about 30,000 ghost workers.  It said some were paid for jobs they hadn't done, others were dead or fictitious. The fraud cost an estimated $250m (£200m) over two years, according to the civil service minister Carmelita Namashulua. The audit was carried out to assess the effectiveness of officials in the country, which has been ranked as the 153rd most corrupt in the 2017 Transparency International Index.About 348,000 workers were assessed, the minister said.The Mozambican government outlined plans earlier this year to try to control public spending.Posted at 8:53 11 Dec8:53 11 DecWise wordsTuesday's African proverb is:Quote Message: Choice is better than compulsion." from A Swahili proverb sent by Salim, UK. Choice is better than compulsion."A Swahili proverb sent by Salim, UK.Page 1 of 2rewindpreviousNavigate to the next pagenextNavigate to the last pageforwardBack to top"],area:[1,"",""],col:[2,"",""],legend:[1,"",""],param:[1,"",""],tr:[2,"",""],optgroup:u,option:u,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c};["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"].forEach(function(e){d[e]=p,s[e]=!0}),e.exports=r},function(e,t,n){"use strict";var r=n(29),o=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});e.exports=o},function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var o=n(8),a=n(30),i=n(3),s=n(7),u={initialize:s,close:function(){d.isBatchingUpdates=!1}},l={initialize:s,close:o.flushBatchedUpdates.bind(o)},c=[l,u];i(r.prototype,a.Mixin,{getTransactionWrappers:function(){return c}});var p=new r,d={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,o,a){var i=d.isBatchingUpdates;d.isBatchingUpdates=!0,i?e(t,n,r,o,a):p.perform(e,null,t,n,r,o,a)}};e.exports=d},function(e,t,n){"use strict";function r(e){try{e.focus()}catch(e){}}e.exports=r},function(e,t,n){"use strict";function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var o={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},a=["Webkit","ms","Moz","O"];Object.keys(o).forEach(function(e){a.forEach(function(t){o[r(t,e)]=o[e]})});var i={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},s={isUnitlessNumber:o,shorthandPropertyExpansions:i};e.exports=s},function(e,t,n){"use strict";function r(e){var t=e&&(o&&e[o]||e[a]);if("function"==typeof t)return t}var o="function"==typeof Symbol&&Symbol.iterator,a="@@iterator";e.exports=r},function(e,t,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=i.getValue(e);null!=t&&o(this,Boolean(e.multiple),t)}}function o(e,t,n){var r,o,a=s.getNode(e._rootNodeID).options;if(t){for(r={},o=0;o0&&n.right>0&&n.left1,"br-page-link-onbg br-page-bg-ontext br-page-link-onbg br-page-linkhover-onbg--hover br-page-bg-ontext--hover":"true"===e.brandingTool}),d=(0,s.default)("gs-u-vh","qa-vh-navigation-first"),f=(0,s.default)("lx-pagination__btn","qa-pagination-previous-page",{"lx-pagination__btn--rtl":"rtl"===e.cssDirection,"lx-pagination__btn--inactive":1===e.currentPageNumber,"lx-pagination__btn--active":e.currentPageNumber>1,"br-page-link-onbg br-page-bg-ontext br-page-link-onbg br-page-linkhover-onbg--hover br-page-bg-ontext--hover":"true"===e.brandingTool}),m=(0,s.default)("gs-u-vh","qa-vh-navigation-previous"),g=(0,s.default)("lx-pagination__btn","gs-u-mr+","qa-pagination-next-page",{"lx-pagination__btn--rtl":"rtl"===e.cssDirection,"lx-pagination__btn--inactive":e.currentPageNumber===e.totalPageNumber,"lx-pagination__btn--active":e.currentPageNumber!==e.totalPageNumber,"br-page-link-onbg br-page-bg-ontext br-page-link-onbg br-page-linkhover-onbg--hover br-page-bg-ontext--hover":"true"===e.brandingTool}),v=(0,s.default)("gs-u-vh","qa-vh-navigation-next"),_=(0,s.default)("lx-pagination__btn","qa-pagination-last-page",{"lx-pagination__btn--rtl":"rtl"===e.cssDirection,"lx-pagination__btn--inactive":e.currentPageNumber===e.totalPageNumber,"lx-pagination__btn--active":e.currentPageNumber!==e.totalPageNumber,"br-page-link-onbg br-page-bg-ontext br-page-link-onbg br-page-linkhover-onbg--hover br-page-bg-ontext--hover":"true"===e.brandingTool}),P=(0,s.default)("gs-u-vh","qa-vh-navigation-last"),x={pageText:e.getTranslationFor("page"),ofText:e.getTranslationFor("of"),nextPage:e.getTranslationFor("next_page"),lastPage:e.getTranslationFor("last_page"),previousPage:e.getTranslationFor("previous_page"),firstPage:e.getTranslationFor("first_page")};return a.default.createElement("div",{className:t},a.default.createElement("div",{className:"lx-pagination__details gs-u-ph qa-pagination-details"},x.pageText,a.default.createElement("span",{className:"lx-pagination__page-number qa-pagination-current-page-number"}," "+e.currentPageNumber+" "),x.ofText,a.default.createElement("span",{className:"lx-pagination__page-number qa-pagination-total-page-number"}," "+e.totalPageNumber)),a.default.createElement("div",{className:"lx-pagination__controls lx-pagination__controls--left qa-pagination-left"},y(e,i,1,p,d,x.firstPage,"first","rewind"),y(e,l,r,f,m,x.previousPage,"prev","previous")),a.default.createElement("div",{className:"lx-pagination__controls lx-pagination__controls--right  qa-pagination-right"},b(e,c,o,g,v,x.nextPage,"next","next"),b(e,u,n,_,P,x.lastPage,"last","forward")))};y.propTypes={currentPageNumber:a.default.PropTypes.number.isRequired},b.propTypes={currentPageNumber:a.default.PropTypes.number.isRequired,totalPageNumber:a.default.PropTypes.number.isRequired},_.propTypes={currentPageNumber:a.default.PropTypes.number.isRequired,totalPageNumber:a.default.PropTypes.number.isRequired,getTranslationFor:a.default.PropTypes.func.isRequired,cssDirection:a.default.PropTypes.string.isRequired,brandingTool:a.default.PropTypes.string.isRequired},_.defaultProps={currentPageNumber:1},t.default={Pagination:_,getPaginationUrl:h},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(99),o=n.n(r);Morph.modules["bbc-morph-lx-stream-v4@1.0.5"]=o.a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t0?n.pageNumber-1:1,i=n.pageNumber+1,s={uri:p(n,1),requireSuccess:!1,updates:t.updateStreamData},u={uri:p(n,a),requireSuccess:!1,updates:t.updateStreamData},l={uri:p(n,i),requireSuccess:!1,updates:t.updateStreamData};if(t&&t.pinnedPostLocator){var d={pinnedPost:{uri:{data:"bbc-morph-cs-enriched-post",locator:t.pinnedPostLocator,isUk:e.isUk||"false",nitroKey:e.nitroKey},requireSuccess:!1,updates:!1}};return o({},r,d,{cachedFirstPage:s,cachedPreviousPage:u,cachedNextPage:l})}return o({},r,{cachedFirstPage:s,cachedPreviousPage:u,cachedNextPage:l})}}),e.exports=t.default},function(e,t){e.exports={create:function(e,t){return Morph.createContainerWithCaller("bbc-morph-lx-stream-v4@1.0.5",e,t)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;tt},W=function(e,t,n,r,o){return t>=2&&!H(t,n)?i.default.createElement("div",{className:"lx-pagination__nav gs-u-mb+ qa-top-navigation"},i.default.createElement(I.Pagination,{onClick:V(e),assetUri:e.props.assetUri,urlTemplate:e.props.urlTemplate,isApp:r,currentPageNumber:t,totalPageNumber:n,getTranslationFor:e.props.getTranslationFor,cssDirection:o,brandingTool:e.props.brandingTool})):i.default.createElement("noscript",null)},K=function(e,t,n,r,o){return n>1&&!H(t,n)?i.default.createElement("div",{className:"lx-pagination__nav gs-u-mb+ qa-bottom-navigation"},i.default.createElement(I.Pagination,{onClick:V(e),assetUri:e.props.assetUri,urlTemplate:e.props.urlTemplate,isApp:r,currentPageNumber:t,totalPageNumber:n,getTranslationFor:e.props.getTranslationFor,cssDirection:o,brandingTool:e.props.brandingTool})):i.default.createElement("noscript",null)},z=function(e,t,n,r,o,a,s,u,l,c,p,d,f,m,h,g){return 0===o.length&&H(d,f)?i.default.createElement(L.default,e):i.default.createElement(N.default,{renderBefore:p,isUk:t,adsProhibitedCps:n,isApp:r,brandingTool:e.brandingTool,posts:o,cssDirection:a,getTranslationFor:s,assetUri:u,mode:l,baseUrl:c,currentPageNumber:d,pageNumber:d,limit:e.ltsLimit,nitroKey:e.nitroKey,useAlternateReactionIconsToggle:m,useReactionsStreamV4Toggle:h,useReactionCountsToggle:g,theme:e.theme})},Y=i.default.createClass({displayName:"LXStream",propTypes:{isApp:i.default.PropTypes.string,experimental:i.default.PropTypes.string,serviceName:i.default.PropTypes.string,theme:i.default.PropTypes.string,brandingTool:i.default.PropTypes.string},getInitialState:function(){return{pinnedPost:{loading:!1,locator:!1,inPayload:!1},baseUrl:""}},componentWillMount:function(){T.default.profileStart("startRender"),(0,c.default)(y.default.getGrandstandServiceName(this.props)),m.default.selfTransitiveThenUpdate(y.default.getCSSDirection(this.props),this)},isPinnedPostInPayload:function(e,t){return!!t&&(0,b.postInPayload)(e,t)},setPinnedPost:function(){var e=this,t=(0,_.getQueryParamValueFor)("pinned_post_locator"),n=this.isPinnedPostInPayload(this.props,t);t&&(B(),this.setState({pinnedPost:{locator:t,inPayload:n}},function(){!n&&t&&e.props.setDataParams({pinnedPostLocator:t})}))},shouldRenderPinnedPostLoadingMessage:function(e,t){return!e.some(function(e){return e.isPinned})&&!t.pinnedPost.inPayload&&t.pinnedPost.locator},renderPinnedLoadingMessage:function(){var e=(0,b.getAllPostsIncludingPinned)(this.props,this.state);return this.shouldRenderPinnedPostLoadingMessage(e,this.state)?i.default.createElement("li",{className:"lx-stream__post-container qa-pinned-post-loading-message"},i.default.createElement(k.default,{loadingText:this.props.getTranslationFor("loading_shared")})):i.default.createElement("noscript",null)},setBaseUrl:function(){this.setState({baseUrl:(0,P.getUrlWithPath)()})},advertisingProhibitedCpsToggle:function(){var e=this.getCpsOptionsData(this.props.commentaryMeta);return void 0!==e.allowAdvertising&&!e.allowAdvertising},hasValidCpsOptionData:function(e){return!(!e||!e.meta)&&(200===e.meta.responseCode&&e.body)},getCpsOptionsData:function(e){return this.hasValidCpsOptionData(e)&&e.body&&e.body.options?e.body.options:{}},componentDidMount:function(){this.setBaseUrl(),this.setPinnedPost(),d.default.load(),T.default.profileEnd("startRender")},componentWillUpdate:function(){T.default.profileStart("streamRerender")},componentDidUpdate:function(){this.props.updateMetadata.body.latestChange>this.props.streamData.body.latestChange?this.props.setDataParams({updateStreamData:!0}):F(q(this.props.streamData.body),this.props.updateMetadata.body.posts)?this.props.setDataParams({updateStreamData:!0}):this.props.dataParams.updateStreamData&&this.props.setDataParams({updateStreamData:!1}),T.default.profileEnd("streamRerender")},render:function(){var e=(0,b.getAllPostsIncludingPinned)(this.props,this.state),t="true"===this.props.isUk,n=this.advertisingProhibitedCpsToggle(),r="true"===this.props.isApp,a=this.props.getTranslationFor,s=this.props.streamHeadingId||!1,l=this.props.assetUri,c=this.props.ltsConfig.mode,p=this.props.streamData.body.currentPage,d=this.props.streamData.body.numberOfPages,f=this.props.alternateReactionIconsToggle&&void 0!==this.props.alternateReactionIconsToggle.body&&!0===this.props.alternateReactionIconsToggle.body,m=this.props.reactionsStreamV4Toggle&&void 0!==this.props.reactionsStreamV4Toggle.body&&!0===this.props.reactionsStreamV4Toggle.body,h=this.props.lxStreamReactionCountsToggle&&void 0!==this.props.lxStreamReactionCountsToggle.body&&!0===this.props.lxStreamReactionCountsToggle.body,v=this.renderPinnedLoadingMessage,_=this.state.baseUrl,P=y.default.getCSSDirection(this.props),x=(0,u.default)("lx-stream","qa-stream","gs-u-box-size",g.default.getProductThemeClass(this.props),{"br-keyline":"true"===this.props.brandingTool}),T={className:x,dir:y.default.getCSSDirection(this.props)};return s&&(T=o({},T,{"aria-labelledby":s})),i.default.createElement("div",o({id:"lx-stream"},T),W(this,p,d,r,P),z(this.props,t,n,r,e,P,a,l,c,_,v,p,d,f,m,h),K(this,p,d,r,P))}});t.default=(0,C.default)((0,R.default)((0,D.default)(Y))),e.exports=t.default},function(e,t){e.exports=Morph.modules["bbc-morph-grandstand@5.1.2"]},function(e,t){e.exports=Morph.modules["bbc-morph-lazysizes@1.0.1"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getProductThemeClass:function(e){return e&&e.theme?"gs-t-"+e.theme:""}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(106),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={getGrandstandServiceName:function(e){return e&&e.serviceName?e.serviceName:"latin-flexbox"},getCSSDirection:function(e){return o.default.getDirectionality(e.serviceName).toLowerCase()}},e.exports=t.default},function(e,t){e.exports=Morph.modules["bbc-morph-ws-typography-info@1.0.6"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t0},s=function(e,t){if(e.pinnedPost&&e.pinnedPost.body)return r({isPinned:!0,tagText:e.getTranslationFor("shared")},e.pinnedPost.body);if(t.pinnedPost&&t.pinnedPost.locator){var n=a(e),o=n.filter(function(e){return e.locator===t.pinnedPost.locator});if(o&&o.length>0){var i=o[0];return i.isPinned=!0,i.tagText=e.getTranslationFor("shared"),i}}return null},u=function(e,t){var n=s(e,t);return n?[n].concat(o(n,e.streamData.body.results)):a(e)};t.default={postInPayload:i,getAllPosts:a,getAllPostsIncludingPinned:u},e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t0&&e[0])&&e.reduce(function(e,t){var n=t.split("=");return o(r({},n[0],n[1]),e)},{})},i=function(e){return a()[e]||!1};t.default={getQueryParamsAsObject:a,getQueryParamValueFor:i},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t-1){return r.split("-")[0]}return r}return!1},c=function(e,t,n){return!(!i(e)||u(t))&&s(e,"YYYY",n)},p=function(e,t,n){if(!a(e)&&u(t)){var r=s(e,t,n);if(r.indexOf("-")>-1){return r.split("-")[1]}}return!1},d=function(e){return e&&"date-format"!==e?e:"ll"},f=function(e){var t=(0,o.default)(e.lastPublished),n="string"==typeof e.manualTime,r=d(e.getTranslationFor("date-format")),a=e.language||"en-GB",i={manualTime:e.manualTime};return!n&&t&&(i.time=t.format("H:mm"),i.date=l(t,r,a),i.year=c(t,r,a),i.alternateDate=p(t,r,a)),i};t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t0){var t={children:e.body},n=i.default.createElement("noscript",null);return e.sourceAsset&&e.sourceAsset.type&&"MAP"!==e.sourceAsset.type&&(n=i.default.createElement("div",{className:"lx-stream-contextual-body"},d(e.sourceAsset),(0,l.default)(e.sourceAsset))),i.default.createElement("div",{className:"lx-stream-post-body"},(0,s.renderChildren)(t),n)}return i.default.createElement("noscript",null)};f.displayName="PostType",t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t8&&x1?1-t:void 0;return this._fallbackText=o.slice(e,s),this._fallbackText}}),o.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=n(14),a={data:null};o.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=n(14),a={data:null};o.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function o(e){var t=T.getPooled(k.change,S,e,E(e));_.accumulateTwoPhaseDispatches(t),x.batchedUpdates(a,t)}function a(e){b.enqueueEvents(e),b.processEventQueue(!1)}function i(e,t){I=e,S=t,I.attachEvent("onchange",o)}function s(){I&&(I.detachEvent("onchange",o),I=null,S=null)}function u(e,t,n){if(e===M.topChange)return n}function l(e,t,n){e===M.topFocus?(s(),i(t,n)):e===M.topBlur&&s()}function c(e,t){I=e,S=t,R=e.value,O=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(I,"value",L),I.attachEvent("onpropertychange",d)}function p(){I&&(delete I.value,I.detachEvent("onpropertychange",d),I=null,S=null,R=null,O=null)}function d(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==R&&(R=t,o(e))}}function f(e,t,n){if(e===M.topInput)return n}function m(e,t,n){e===M.topFocus?(p(),c(t,n)):e===M.topBlur&&p()}function h(e,t,n){if((e===M.topSelectionChange||e===M.topKeyUp||e===M.topKeyDown)&&I&&I.value!==R)return R=I.value,S}function g(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function v(e,t,n){if(e===M.topClick)return n}var y=n(10),b=n(23),_=n(22),P=n(4),x=n(8),T=n(14),E=n(38),C=n(39),w=n(68),N=n(13),M=y.topLevelTypes,k={change:{phasedRegistrationNames:{bubbled:N({onChange:null}),captured:N({onChangeCapture:null})},dependencies:[M.topBlur,M.topChange,M.topClick,M.topFocus,M.topInput,M.topKeyDown,M.topKeyUp,M.topSelectionChange]}},I=null,S=null,R=null,O=null,D=!1;P.canUseDOM&&(D=C("change")&&(!("documentMode"in document)||document.documentMode>8));var A=!1;P.canUseDOM&&(A=C("input")&&(!("documentMode"in document)||document.documentMode>9));var L={get:function(){return O.get.call(this)},set:function(e){R=""+e,O.set.call(this,e)}},U={eventTypes:k,extractEvents:function(e,t,n,o,a){var i,s;if(r(t)?D?i=u:s=l:w(t)?A?i=f:(i=h,s=m):g(t)&&(i=v),i){var c=i(e,t,n);if(c){var p=T.getPooled(k.change,c,o,a);return p.type="change",_.accumulateTwoPhaseDispatches(p),p}}s&&s(e,t,n)}};e.exports=U},function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):a.addComponentAsRefTo(t,e,n)}function o(e,t,n){"function"==typeof e?e(null):a.removeComponentAsRefFrom(t,e,n)}var a=n(129),i={};i.attachRefs=function(e,t){if(null!==t&&!1!==t){var n=t.ref;null!=n&&r(n,e,t._owner)}},i.shouldUpdateRefs=function(e,t){var n=null===e||!1===e,r=null===t||!1===t;return n||r||t._owner!==e._owner||t.ref!==e.ref},i.detachRefs=function(e,t){if(null!==t&&!1!==t){var n=t.ref;null!=n&&o(n,e,t._owner)}},e.exports=i},function(e,t,n){"use strict";var r=n(1),o={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){o.isValidOwner(n)||r(!1),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){o.isValidOwner(n)||r(!1),n.getPublicInstance().refs[t]===e.getPublicInstance()&&n.detachRef(t)}};e.exports=o},function(e,t,n){"use strict";var r=0,o={createReactRootIndex:function(){return r++}};e.exports=o},function(e,t,n){"use strict";var r=n(13),o=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];e.exports=o},function(e,t,n){"use strict";var r=n(10),o=n(22),a=n(31),i=n(5),s=n(13),u=r.topLevelTypes,l=i.getFirstReactDOM,c={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[u.topMouseOut,u.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[u.topMouseOut,u.topMouseOver]}},p=[null,null],d={eventTypes:c,extractEvents:function(e,t,n,r,s){if(e===u.topMouseOver&&(r.relatedTarget||r.fromElement))return null;if(e!==u.topMouseOut&&e!==u.topMouseOver)return null;var d;if(t.window===t)d=t;else{var f=t.ownerDocument;d=f?f.defaultView||f.parentWindow:window}var m,h,g="",v="";if(e===u.topMouseOut?(m=t,g=n,h=l(r.relatedTarget||r.toElement),h?v=i.getID(h):h=d,h=h||d):(m=d,h=t,v=n),m===h)return null;var y=a.getPooled(c.mouseLeave,g,r,s);y.type="mouseleave",y.target=m,y.relatedTarget=h;var b=a.getPooled(c.mouseEnter,v,r,s);return b.type="mouseenter",b.target=h,b.relatedTarget=m,o.accumulateEnterLeaveDispatches(y,b,g,v),p[0]=y,p[1]=b,p}};e.exports=d},function(e,t,n){"use strict";function r(e){o.enqueueEvents(e),o.processEventQueue(!1)}var o=n(23),a={handleTopLevel:function(e,t,n,a,i){r(o.extractEvents(e,t,n,a,i))}};e.exports=a},function(e,t,n){"use strict";function r(e){for(var t=1,n=0,r=0,a=e.length,i=-4&a;r]+)/,c={dangerouslyRenderMarkup:function(e){o.canUseDOM||u(!1);for(var t,n={},c=0;c=0||null!=t.is}function g(e){m(e),this._tag=e.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null}var v=n(146),y=n(147),b=n(17),_=n(52),P=n(10),x=n(32),T=n(49),E=n(154),C=n(155),w=n(157),N=n(85),M=n(159),k=n(5),I=n(160),S=n(9),R=n(42),O=n(3),D=n(41),A=n(34),L=n(1),U=(n(39),n(13)),j=n(33),q=n(51),F=(n(86),n(48),n(2),x.deleteListener),B=x.listenTo,V=x.registrationNameModules,H={string:!0,number:!0},W=U({children:null}),K=U({style:null}),z=U({__html:null}),Y=1,G={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},X={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Q={listing:!0,pre:!0,textarea:!0},$=(O({menuitem:!0},X),/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/),Z={},J={}.hasOwnProperty;g.displayName="ReactDOMComponent",g.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,t,n){this._rootNodeID=e;var r=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},t.getReactMountReady().enqueue(p,this);break;case"button":r=E.getNativeProps(this,r,n);break;case"input":C.mountWrapper(this,r,n),r=C.getNativeProps(this,r,n);break;case"option":w.mountWrapper(this,r,n),r=w.getNativeProps(this,r,n);break;case"select":N.mountWrapper(this,r,n),r=N.getNativeProps(this,r,n),n=N.processChildContext(this,r,n);break;case"textarea":M.mountWrapper(this,r,n),r=M.getNativeProps(this,r,n)}u(this,r);var o;if(t.useCreateElement){var a=n[k.ownerDocumentContextKey],i=a.createElement(this._currentElement.type);_.setAttributeForID(i,this._rootNodeID),k.getID(i),this._updateDOMProperties({},r,t,i),this._createInitialChildren(t,r,n,i),o=i}else{var s=this._createOpenTagMarkupAndPutListeners(t,r),l=this._createContentMarkup(t,r,n);o=!l&&X[this._tag]?s+"/>":s+">"+l+""+this._currentElement.type+">"}switch(this._tag){case"input":t.getReactMountReady().enqueue(d,this);case"button":case"select":case"textarea":r.autoFocus&&t.getReactMountReady().enqueue(v.focusDOMComponent,this)}return o},_createOpenTagMarkupAndPutListeners:function(e,t){var n=">"}var h=n(11),g=n(46),v=n(7),y=n(84),b=">",_={array:o("array"),bool:o("boolean"),func:o("function"),number:o("number"),object:o("object"),string:o("string"),any:function(){return r(v.thatReturns(null))}(),arrayOf:a,element:function(){function e(e,t,n,r,o){if(!h.isValidElement(e[t])){var a=g[r];return new Error("Invalid "+a+" `"+o+"` supplied to `"+n+"`, expected a single ReactElement.")}return null}return r(e)}(),instanceOf:i,node:function(){function e(e,t,n,r,o){if(!p(e[t])){var a=g[r];return new Error("Invalid "+a+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")}return null}return r(e)}(),objectOf:u,oneOf:s,oneOfType:l,shape:c};e.exports=_},function(e,t,n){"use strict";var r=n(158),o=n(85),a=n(3),i=(n(2),o.valueContextKey),s={mountWrapper:function(e,t,n){var r=n[i],o=null;if(null!=r)if(o=!1,Array.isArray(r)){for(var a=0;a"+s+""},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var o=i.getNode(this._rootNodeID);r.updateTextContent(o,n)}}},unmountComponent:function(){a.unmountIDFromEnvironment(this._rootNodeID)}}),e.exports=c},function(e,t,n){"use strict";function r(e){var t=d.getID(e),n=p.getReactRootIDFromNodeID(t),r=d.findReactContainerForID(n);return d.getFirstReactDOM(r)}function o(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function a(e){i(e)}function i(e){for(var t=d.getFirstReactDOM(h(e.nativeEvent))||window,n=t;n;)e.ancestors.push(n),n=r(n);for(var o=0;ot.end?(n=t.end,r=t.start):(n=t.start,r=t.end),o.moveToElementText(e),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",r-n),o.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,o=Math.min(t.start,r),a=void 0===t.end?o:Math.min(t.end,r);if(!n.extend&&o>a){var i=a;a=o,o=i}var s=l(e,o),u=l(e,a);if(s&&u){var p=document.createRange();p.setStart(s.node,s.offset),n.removeAllRanges(),o>a?(n.addRange(p),n.extend(u.node,u.offset)):(p.setEnd(u.node,u.offset),n.addRange(p))}}}var u=n(4),l=n(171),c=n(67),p=u.canUseDOM&&"selection"in document&&!("getSelection"in window),d={getOffsets:p?o:a,setOffsets:p?i:s};e.exports=d},function(e,t,n){"use strict";function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function a(e,t){for(var n=r(e),a=0,i=0;n;){if(3===n.nodeType){if(i=a+n.textContent.length,a=t)return{node:n,offset:t-a};a=i}n=r(o(n))}}e.exports=a},function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&u.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function o(e,t){if(_||null==v||v!==c())return null;var n=r(v);if(!b||!f(b,n)){b=n;var o=l.getPooled(g.select,y,e,t);return o.type="select",o.target=v,i.accumulateTwoPhaseDispatches(o),o}return null}var a=n(10),i=n(22),s=n(4),u=n(89),l=n(14),c=n(90),p=n(68),d=n(13),f=n(86),m=a.topLevelTypes,h=s.canUseDOM&&"documentMode"in document&&document.documentMode",""+n+" "),i=""+a+r;return u.default.createElement("div",null,u.default.createElement("div",{className:"gs-u-vh qa-visually-hidden-title",dangerouslySetInnerHTML:{__html:i}}),u.default.createElement("div",{className:"lx-stream-post-quote__body gs-u-mb qa-blockquote",dangerouslySetInnerHTML:{__html:t},"aria-hidden":"true"}))}return u.default.createElement("div",null,u.default.createElement("span",{className:"gs-u-vh qa-visually-hidden-title"},o),u.default.createElement("div",{className:"lx-stream-post-quote__body gs-u-mb qa-blockquote","aria-hidden":"true"},u.default.createElement("p",{dangerouslySetInnerHTML:{__html:t}})))},m=function(e){var t=e.element.children,n=e.element.name,r=(0,d.default)(n),a=c.default.findFirst(t,r.textLocator),s=e.renderChildrenToStaticMarkup(a),l=c.default.findText(t,r.sourceLocator),p=c.default.findFirst(t,r.sourceLocator),m=(0,i.default)(["lx-stream-post-quote","lx-stream-post-quote--"+r.className,"gs-u-mb-alt","gs-u-mr-alt+","gs-u-ml-alt+","gs-u-mr-alt++@m","gs-u-ml-alt++@m"]),h=(0,i.default)(["gs-u-mr","lx-stream-post-quote__icon","lx-stream-post-quote__icon--"+r.icon,"gel-icon","gel-icon-"+r.gelIconClass]),g=void 0,v=void 0;p&&p.attributes&&(g=c.default.findFirst(p.attributes,"title").value)&&(v=u.default.createElement("span",{className:"lx-stream-post-quote__cite-profession qa-blockquote-source-profession"},g));var y=void 0!==g?g:"",b=e.getTranslationFor("from"),_="string"==typeof l?b+" "+l+" "+y:"",P=e.getTranslationFor(r.hiddenTitleText)+":";return u.default.createElement("blockquote",o({},e.attributes,{className:m}),f(n,s,P,_),u.default.createElement("footer",{className:"lx-stream-post-quote__cite gel-brevier gel-brevier-bold","aria-hidden":"true"},u.default.createElement("cite",{className:"lx-stream-post-quote__cite-name qa-blockquote-source"},l),v),u.default.createElement("div",{className:h},r.iconSvg))};m.displayName="Blockquote",m.propTypes={attributes:u.default.PropTypes.object.isRequired,renderChildrenToStaticMarkup:u.default.PropTypes.func.isRequired,element:u.default.PropTypes.object.isRequired},t.default=m,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a={sms:{hiddenTitleText:"sms_message",gelIconClass:"sms",icon:"mobile",className:"sms",textLocator:"smsText",sourceLocator:"smsSource",iconSvg:o.default.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32"},o.default.createElement("path",{d:"M22 0v2H6v30h20V0h-4zm-9 28h-3v-2h3v2zm0-4h-3v-2h3v2zm0-4h-3v-2h3v2zm5 8h-4v-2h4v2zm0-4h-4v-2h4v2zm0-4h-4v-2h4v2zm4 8h-3v-2h3v2zm0-4h-3v-2h3v2zm0-4h-3v-2h3v2zm0-5H10V6h12v9z"}))},quote:{hiddenTitleText:"quote_message",gelIconClass:"quote",icon:"quote",className:"default",textLocator:"quoteText",sourceLocator:"quoteSource",iconSvg:o.default.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32"},o.default.createElement("path",{d:"M0 17v15h15V17H7c.2-5.9 2.4-8.8 8-9.9V0C6.7 1.2.2 8.3 0 17zM32 7.1V0c-8.3 1.2-14.8 8.3-15 17v15h15V17h-8c.2-5.9 2.4-8.8 8-9.9z"}))},email:{hiddenTitleText:"email_message",gelIconClass:"email",icon:"email",className:"email",textLocator:"emailText",sourceLocator:"emailSource",iconSvg:o.default.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32"},o.default.createElement("path",{d:"M16 19.4l16-15V3H0v26h32V8l-4 4v13H4V8.2l12 11.2zm0-2.8L5.8 7h20.4L16 16.6z"}))}},i=function(e){return a[e]||a.quote};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t-1||e.indexOf("bbc.in")>-1},m=function(e){var t=e.element.children,n=d.default.findText(t,"altText"),r=d.default.findFirst(t,"url"),a=d.default.findFirst(r.attributes,"href").value,s={href:a,alt:n},l=d.default.findText(t,"caption");if(!f(a)){var p=i.default.createElement(c.default,null);l+=u.default.renderToStaticMarkup(p)}return i.default.createElement("a",o({},s,{dangerouslySetInnerHTML:{__html:l}}))};m.displayName="Link",m.propTypes={element:i.default.PropTypes.object.isRequired},t.default=m,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(){return o.default.createElement("span",{className:"lx-stream-post-body__external-link gel-icon gel-icon-external-link"},o.default.createElement("svg",{viewBox:"0 0 32 32"},o.default.createElement("path",{d:"M12 0v5h11.5l-5 5H0v22h22V17.5l-2 2V30H2V12h14.5l-7.8 7.7 3.6 3.6L27 8.5V20h5V0z"})))};a.displayName="ExternalLink",t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(e){return o.default.createElement("ol",{dangerouslySetInnerHTML:{__html:e}})},i=function(e){return o.default.createElement("ul",{dangerouslySetInnerHTML:{__html:e}})},s=function(e){var t=e.renderChildrenToStaticMarkup({children:e.element.children});return"ordered"===e.attributes.type?a(t):i(t)};s.displayName="List",s.propTypes={attributes:o.default.PropTypes.object.isRequired,renderChildrenToStaticMarkup:o.default.PropTypes.func.isRequired,element:o.default.PropTypes.object.isRequired},t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(e){var t=e.renderChildrenToStaticMarkup({children:e.element.children});return o.default.createElement("li",{dangerouslySetInnerHTML:{__html:t}})};a.displayName="ListItem",a.propTypes={renderChildrenToStaticMarkup:o.default.PropTypes.func.isRequired,element:o.default.PropTypes.object.isRequired},t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t0});return!!(t&&t.length>0)&&t[0]},b=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.url!==e.url||this.props.title!==e.title}},{key:"render",value:function(){var e=this.props.title,t=v(this.props.url),n=y(this.props),r=n.urlTemplate;if(n){(0,g.profileStart)("embedRender:"+t);var o=n.component,a={matches:n.matches,title:e,url:t,urlTemplate:r};return c.default.createElement(o,{title:e,url:n.transform(a),cssClasses:n.cssClasses,componentDidMount:n.componentDidMount})}return c.default.createElement(m.default,this.props)}}]),t}(c.default.Component);b.displayName="LazyEmbed",b.propTypes={title:c.default.PropTypes.string.isRequired,url:c.default.PropTypes.string.isRequired,isVisible:c.default.PropTypes.bool.isRequired},t.default=(0,h.IntersectComponent)(b),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(211),a=r(o),i=n(212),s=r(i),u=n(213),l=r(u),c=n(20),p=function(e){return e.url},d=function(e){return e.urlTemplate.replace("{identifier}",e.matches[1])},f=function(e){return e.urlTemplate.replace("{identifier}",encodeURIComponent(e.matches[1]))};t.default={youtube:{regex:/http(?:s)?:\/\/(?:www\.)?youtu(?:be.com|.be)\/(?:watch)?(?:\/\?)?(?:.*v=)?(.[^]*)/i,transform:d,component:s.default,urlTemplate:"https://www.youtube.com/embed/{identifier}",componentDidMount:function(e){(0,c.profileEnd)("embedRender:"+e.url)}},twitter:{regex:/^http.+twitter\.com\/.*\/status\/(.*)/i,transform:p,component:a.default,cssClasses:"twitter-tweet",componentDidMount:function(e,t){requirejs(["//platform.twitter.com/widgets.js"],function(){twttr.widgets.load(t),(0,c.profileEnd)("embedRender:"+e.url)})}},instagram:{regex:/^http.+instagr(?:\.am|am\.com)/i,transform:p,component:a.default,cssClasses:"instagram-media",componentDidMount:function(e,t){requirejs(["//platform.instagram.com/en_GB/embeds.js"],function(){instgrm.Embeds.process(t),(0,c.profileEnd)("embedRender:"+e.url)})}},soundcloud:{regex:/(^http.+soundcloud\.com(.*))/i,transform:f,component:s.default,componentDidMount:function(e){(0,c.profileEnd)("embedRender:"+e.url)},urlTemplate:"https://w.soundcloud.com/player/?visual=true&url={identifier}&show_artwork=true"},facebookVideo:{regex:/(http.+www\.facebook\.com\/video\.php.*|http.+www\.facebook\.com\/.*\/videos\/.*)/i,transform:p,component:l.default,componentDidMount:function(e,t){requirejs(["//connect.facebook.net/en_US/all.js#xfbml=1&version=v2.5"],function(){window.FB.XFBML.parse(t),(0,c.profileEnd)("embedRender:"+e.url)})}},facebookPost:{regex:/(http.+www\.facebook\.com\/.*\/(posts|activity|photos)\/.*|http.+www\.facebook\.com\/(media\/set|questions|notes|photos|permalink\.php).*)/i,transform:p,component:l.default,componentDidMount:function(e,t){requirejs(["//connect.facebook.net/en_US/all.js#xfbml=1&version=v2.5"],function(){window.FB.XFBML.parse(t),(0,c.profileEnd)("embedRender:"+e.url)})}}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n0?t.link:"",r={role:t.role,name:t.name,link:n};return a.default.createElement(h.default,{contributor:r,brandingTool:e.brandingTool,baseUrl:e.baseUrl})}return a.default.createElement("noscript",null)},b=function(e){return a.default.createElement("div",{className:"gel-3/8@l"},a.default.createElement("a",{href:e.relatedUrl,className:"qa-story-image-link",onClick:e.postIstats()},a.default.createElement("div",{className:"lx-stream-related-story--index-image-wrapper qa-story-image-wrapper"},a.default.createElement(s.default,{className:"lx-stream-related-story--index-image qa-story-image",src:e.indexImage.ichefHref,alt:e.indexImage.altText}))))},_=function(e){var t="cta_text";"LIV"===e.type&&(e.liveState.isLive?t="live_cta":e.liveState.isCatchUp&&(t="catch_up_cta"));var n=(0,p.default)("gs-o-button","lx-stream-related-story--cta-button","gel-long-primer-bold","qa-story-text-cta",{"br-page-link-onbg br-page-bg-ontext br-page-link-onbg br-page-linkhover-onbg--hover br-page-bg-ontext--hover":"true"===e.brandingTool}),r=(0,p.default)("lx-stream-related-story--cta-text",{"br-page-bg-ontext br-page-bg-ontext--hover":"true"===e.brandingTool}),o=(0,p.default)({"br-page-bg-ontext br-page-bg-ontext--hover":"true"===e.brandingTool});return a.default.createElement("a",{href:e.relatedUrl,className:"qa-story-cta-link",onClick:e.postIstats()},a.default.createElement("span",{className:n},a.default.createElement("span",{className:r},e.getTranslationFor(t)),a.default.createElement(l.default,{iconName:"next",additionalClassNames:o})))},P=function(e){return a.default.createElement("div",{className:"lx-stream-related-story"},g(e)?a.default.createElement(b,{relatedUrl:e.relatedUrl,indexImage:e.indexImage,postIstats:function(){return v(e)}}):null,a.default.createElement("div",{className:g(e)?"gel-5/8@l":""},y(e),e.summary?a.default.createElement("p",{className:"lx-stream-related-story--summary qa-story-summary"},e.summary):null,a.default.createElement(_,{getTranslationFor:e.getTranslationFor,liveState:e.liveState,relatedUrl:e.relatedUrl,type:e.type,postIstats:function(){return v(e)},brandingTool:e.brandingTool})))};P.displayName="StoryType",y.propTypes={contributor:o.PropTypes.shape({name:o.PropTypes.string,role:o.PropTypes.string,link:o.PropTypes.string}),brandingTool:o.PropTypes.string.isRequired,baseUrl:o.PropTypes.string},y.defaultProps={contributor:void 0,baseUrl:void 0},P.propTypes={summary:o.PropTypes.string,indexImage:o.PropTypes.shape({ichefHref:o.PropTypes.string.isRequired,altText:o.PropTypes.string}),relatedUrl:o.PropTypes.string.isRequired},P.defaultProps={indexImage:void 0,summary:void 0},b.propTypes={indexImage:o.PropTypes.shape({ichefHref:o.PropTypes.string.isRequired,altText:o.PropTypes.string}).isRequired,relatedUrl:o.PropTypes.string.isRequired,postIstats:o.PropTypes.func.isRequired},_.propTypes={type:o.PropTypes.string.isRequired,liveState:o.PropTypes.shape({isCatchUp:o.PropTypes.bool.isRequired,isComingUp:o.PropTypes.bool.isRequired,isLive:o.PropTypes.bool.isRequired}),postIstats:o.PropTypes.func.isRequired,brandingTool:o.PropTypes.string.isRequired},_.defaultProps={liveState:{isCatchUp:!1,isComingUp:!1,isLive:!0}},t.default=P,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),i=n(35),s=r(i),u=n(28),l=r(u),c=n(6),p=r(c),d=n(19),f=n(18),m=function(e){return function(){var t=(0,f.getIstatsData)(e,"related-gallery");(0,d.configureAndSendIstats)("click","related-gallery",t)}},h=function(e){return e.summary&&e.summary.length>0?a.default.createElement("p",{className:"lx-media-asset-summary qa-photogallery-summary gel-pica"},e.summary):a.default.createElement("noscript",null)},g=function(e){return e.indexImage.copyrightHolder?a.default.createElement("div",{className:"lx-media-asset__copyright gel-minion qa-photogallery-image-copyright"},a.default.createElement("span",{"aria-hidden":"true"},e.indexImage.copyrightHolder)):a.default.createElement("noscript",null)},v=function(e){if(e.indexImage){var t=e.indexImage.ichefHref,n=a.default.createElement(s.default,{className:"qa-responsive-image",src:t,delayed:!0});return a.default.createElement("div",{className:"lx-media-asset__image gs-o-responsive-image gs-o-responsive-image--16by9 qa-photogallery-image"},n,g(e))}return a.default.createElement("div",{className:"lx-media-asset__image gs-o-responsive-image gs-o-responsive-image--16by9 qa-photogallery-image"},a.default.createElement(s.default,{className:"qa-responsive-image"}))},y=function(e){var t=e.photogallery.galleryImageCount;return t+" "+(1===t?e.getTranslationFor("photo"):e.getTranslationFor("photos"))},b=function(e,t){return a.default.createElement("div",{className:"lx-stream-asset__gallery-cta-text qa-photogallery-count"},a.default.createElement("span",{"aria-hidden":"true",id:t},y(e)))},_=function(e){var t="count_"+e.assetId,n=(0,p.default)("gs-o-media-island__icon lx-stream-asset__gallery-cta gel-long-primer-bold",{"br-page-link-onbg br-page-bg-ontext br-page-link-onbg br-page-linkhover-onbg--hover br-page-bg-ontext--hover":"true"===e.brandingTool});return a.default.createElement("div",{className:"gel-body-copy lx-stream-post-body"},h(e),a.default.createElement("div",{className:"lx-stream-asset lx-stream-asset--pgl"},a.default.createElement("a",{className:"lx-stream-asset__link qa-photogallery-link",href:e.relatedUrl,"aria-labelledby":""+e.titleId,"aria-describedby":t,onClick:m(e)},a.default.createElement("div",{className:"gs-o-media-island lx-media-asset__island"},v(e),a.default.createElement("div",{className:n},a.default.createElement("span",{className:"lx-stream-asset__gallery-cta-icon gel-icon"},a.default.createElement(l.default,{iconName:"image"})),b(e,t))))))};_.propTypes={relatedUrl:a.default.PropTypes.string.isRequired,assetId:a.default.PropTypes.string.isRequired,titleId:a.default.PropTypes.string.isRequired,summary:a.default.PropTypes.string,brandingTool:a.default.PropTypes.string},y.propTypes={getTranslationFor:a.default.PropTypes.func.isRequired},b.propTypes={getTranslationFor:a.default.PropTypes.func.isRequired},v.propTypes={indexImage:a.default.PropTypes.shape({copyrightHolder:a.default.PropTypes.string,ichefHref:a.default.PropTypes.string.isRequired,altText:a.default.PropTypes.string})},g.propTypes={indexImage:a.default.PropTypes.shape({copyrightHolder:a.default.PropTypes.string}),getTranslationFor:a.default.PropTypes.func.isRequired},b.propTypes={getTranslationFor:a.default.PropTypes.func.isRequired},h.propTypes={summary:a.default.PropTypes.shape({length:a.default.PropTypes.string.isRequired}).isRequired},g.defaultProps={indexImage:void 0},v.defaultProps={indexImage:void 0},_.defaultProps={summary:void 0,brandingTool:"false"},_.displayName="PhotoGalleryType",t.default=_,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t-1?"https://ichef.bbci.co.uk/images/ic/raw/p05d1g60.png":this.state.shareUrl.indexOf("/news")>-1?"http://ichef.bbci.co.uk/images/ic/raw/p05d1g0s.png":"https://ichef.bbci.co.uk/images/ic/raw/p05d1fth.png"}},{key:"getTwitterHandle",value:function(){return this.state.shareUrl.indexOf("/sport")>-1?"BBCSport":this.state.shareUrl.indexOf("/news")>-1?"BBCNews":"BBC"}},{key:"getPostShareImage",value:function(){var e=this.props.body.filter(function(e){var t=e.name;return"image"===t||"video"===t})[0];return e&&(e.imageChefHref||e.holdingImageUrl).replace("{width}","320")}},{key:"getShareImage",value:function(){var e=this.props,t=e.type,n=e.body,r=e.media;return"POST"===t&&n.length>0?this.getPostShareImage()||this.getFallbackLogo():"MAP"===t&&r.length?r[0].image&&r[0].image.href||this.getFallbackLogo():"CLIP"===t&&r?r.holdingImageUrl||this.getFallbackLogo():this.getFallbackLogo()}},{key:"buildLinkName",value:function(){return encodeURIComponent(this.props.assetId+"&"+this.props.title+"&"+this.props.lastPublished).replace(/'/g,"%27").replace(/"/g,"%22")}},{key:"sendIStats",value:function(e){var t=this;return function(){var n=(0,m.getIstatsData)(t.props);(0,f.configureAndSendIstats)(e,"share",n)}}},{key:"toggleSharePanel",value:function(){var e=this.props,t=e.assetId,n=e.activeDropdown,r=e.setActiveDropdown,o=n===t?"":t;return this.sendIStats("share_panel")(),this.setState({isOpen:!!o}),r(o)}},{key:"twitterShareUrl",value:function(){return this.state.shareUrl+"?ns_mchannel=social&ns_source=twitter&ns_campaign=bbc_live&ns_linkname="+this.buildLinkName(this.props)+"&ns_fee=0&pinned_post_locator="+this.props.locator+"&pinned_post_asset_id="+this.props.assetId+"&pinned_post_type=share"}},{key:"facebookShareUrl",value:function(){return this.state.shareUrl+"?ns_mchannel=social&ns_source=facebook&ns_campaign=bbc_live&ns_linkname="+this.buildLinkName(this.props)+"&ns_fee=0&pinned_post_locator="+this.props.locator+"&pinned_post_asset_id="+this.props.assetId+"&pinned_post_type=share"}},{key:"setInitialState",value:function(){var e="";if(this.props.relatedUrl)e=window.location.origin+this.props.relatedUrl;else{e=window.location.href;var t=e.match(h);if(t)e=t[0];else{var n=e.match(g);n&&(e=n[0])}}this.setState({shareUrl:e,pageTitle:document.title})}},{key:"render",value:function(){var e=this,t=this.props,n=t.activeDropdown,r=t.assetId,o=t.getTranslationFor,a=t.title,i=t.cssDirection,s=t.shareToolsTitleId,u=t.useReactionsStreamV4Toggle,c=this.state,f=c.isOpen,m=c.shareUrl,h=c.pageTitle,g=(0,p.default)({"ev-button":"true"===this.props.brandingTool},"qa-facebook-share","lx-share-tools__cta"),y=(0,p.default)({"ev-button":"true"===this.props.brandingTool},"qa-twitter-share","lx-share-tools__cta"),b=n===r&&f,_=m.indexOf("bbc.com")>-1?"https://www.bbc.com":"https://www.bbc.co.uk",P={shareText:o("share"),viewMoreShare:o("view_more_share"),shareThisPost:o("share_this_post"),copyThisLink:o("copy_this_link"),readMoreOnLinks:o("read_more_on_links"),readMoreOnLinksLabel:o("read_more_on_links_label"),shareThisPostOn:o("share_this_post_on"),closeButtonLabel:o("close_button_label"),copyShareLinkLabel:o("copy_share_link_label")},x=P.shareThisPostOn+" Facebook",T=P.shareThisPostOn+" Twitter",E=u?"alternate-up":"alternate-transformation",C=u?"right":"left";return l.default.createElement("ul",{"aria-labelledby":s,className:"lx-share-tools__items lx-share-tools__items--align-"+C+" qa-share-tools"},l.default.createElement("li",null,l.default.createElement(d.Facebook,{link:this.facebookShareUrl(),name:h,description:a,image:this.getShareImage(),classes:g,caption:_,customFacebookAriaLabel:x,clickCallback:this.sendIStats("share_facebook"),small:!0,noButtonPadding:!0,brandingTool:this.props.brandingTool})),l.default.createElement("li",null,l.default.createElement(d.Twitter,{link:this.twitterShareUrl(),description:this.props.title,viaHandle:this.getTwitterHandle(),classes:y,customTwitterAriaLabel:T,clickCallback:this.sendIStats("share_twitter"),small:!0,noButtonPadding:!0,brandingTool:this.props.brandingTool})),l.default.createElement("li",null,l.default.createElement(d.SharePanel,{shareButtonComponent:function(t){return l.default.createElement(v,{translations:P,buttonProps:t,brandingTool:e.props.brandingTool,isOpen:b,assetId:r})},accessibilityId:"share-popup-"+r,classes:"lx-share-tools__panel",headerText:P.shareThisPost,readMoreText:P.readMoreOnLinks,readMoreTextAriaLabel:P.readMoreOnLinksLabel,closeButtonLabel:P.closeButtonLabel,copyShareLinkLabel:P.copyShareLinkLabel,direction:E,cssDirection:i,clickCallback:this.toggleSharePanel,onCloseCallback:this.toggleSharePanel,isOpen:b},l.default.createElement("div",{className:"gs-c-share-tools__button share-tools__button--no-hover-effect"},l.default.createElement(d.CopyLinkBox,{theme:"dark",link:this.twitterShareUrl(),shareText:P.copyThisLink,feedbackDuration:2e3,classes:"lx-share-tools__copylink-box"})))))}}]),t}(u.Component);y.propTypes={type:u.PropTypes.string.isRequired,assetId:u.PropTypes.string.isRequired,lastPublished:u.PropTypes.string.isRequired,locator:u.PropTypes.string.isRequired,activeDropdown:u.PropTypes.string.isRequired,setActiveDropdown:u.PropTypes.func.isRequired,brandingTool:u.PropTypes.string.isRequired,getTranslationFor:u.PropTypes.func.isRequired,title:u.PropTypes.string.isRequired,cssDirection:u.PropTypes.string.isRequired,body:u.PropTypes.shape([{filter:u.PropTypes.string.isRequired,length:u.PropTypes.number.isRequired}]).isRequired,media:u.PropTypes.shape({}).isRequired,useReactionsStreamV4Toggle:u.PropTypes.bool.isRequired,postIndex:u.PropTypes.number.isRequired,postHasVideo:u.PropTypes.bool.isRequired,postHasImage:u.PropTypes.bool.isRequired,postHasSocial:u.PropTypes.bool.isRequired,postIsBreakingNews:u.PropTypes.bool.isRequired,mode:u.PropTypes.string.isRequired,shareToolsTitleId:u.PropTypes.string.isRequired,relatedUrl:u.PropTypes.string},y.defaultProps={relatedUrl:null},t.default=y},function(e,t){e.exports=Morph.modules["bbc-morph-share-tools@5.0.0"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e.title||e.subtitle||e.icon},o=function(e){return"POST"===e.type||"CIT"===e.type},a=function(e){return e.body&&e.body.length>0},i=function(e){return"STY"===e.type||"CSP"===e.type},s=function(e,t){return!(!e||!e.body)&&e.body.some(function(e){return e.name===t})},u=function(e){return s(e,"video")||"MAP"===e.type||"video"===e.mediaType},l=function(e){return s(e,"image")},c=function(e){return Boolean(e&&e.options&&e.options.isBreakingNews&&void 0!==e.options.isBreakingNews)},p=function(e){return Boolean(e&&e.options&&e.options.isPriorityPost&&void 0!==e.options.isPriorityPost)};t.default={postHasHeading:r,isPostType:o,postIsStory:i,hasValidContent:a,postHasMediaType:s,postHasVideo:u,postHasImage:l,postIsBreakingNews:c,postIsPriority:p},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(){return o.default.createElement("svg",{className:"qa-loading-icon-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},o.default.createElement("linearGradient",{id:"a",gradientUnits:"userSpaceOnUse",x1:"1.224",y1:"8.111",x2:"25.888",y2:"21.225"},o.default.createElement("stop",{offset:"0",stopColor:"#5a5a5a"}),o.default.createElement("stop",{offset:"1",stopColor:"#5a5a5a",stopOpacity:"0"})),o.default.createElement("path",{d:"M26 7l-3 1.7c.9 1.5 1.4 3.3 1.4 5.2 0 5.8-4.7 10.5-10.5 10.5-5.7 0-10.4-4.7-10.4-10.4C3.5 8.2 7.8 3.5 14 3.5V0C6.1 0 0 6.2 0 14c0 7.7 6.2 14 14 14 7.7 0 14-6.2 14-14-.1-2.6-.8-5-2-7z",fill:"url(#a)"}))},i=function(e){return o.default.createElement("div",{className:"gs-u-align-center gs-u-pv-alt+ gs-u-ph+ lx-loading-message"},o.default.createElement("span",{"aria-hidden":"true",className:"gs-u-mb gel-icon lx-loading-message__icon qa-loading-icon"},o.default.createElement(a,null)),o.default.createElement("p",{className:"gs-u-m0 gel-body-copy qa-loading-text"},e.loadingText))};i.propTypes={loadingText:o.default.PropTypes.string.isRequired},t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e;for(var r in t)t[r]&&(n=n.replace("{"+r+"}",t[r]));return n},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.getMode=void 0;var u=function(){function e(e,t){for(var n=0;n
