                              
                                                                            Media playerClose playerAfrica Live: Malawi midwife suspended over selfiePlay audio BBC World Service AfricaAudioBBC World Service AfricaLiveBringing you the latest news from around Africa every weekday at bbc.com/africalive.Play audio BBC World Service AfricaI'll sign in laterAnd we'll keep you signed in.Sign in  or  RegisterWhy sign in to the BBC?Got a TV Licence?You need one to watch live TV on any channel or device, and BBC programmes on iPlayer. It‚Äôs the law.Find out moreI have a TV Licence. Watch now.I don‚Äôt have a TV Licence.SummaryThe photo in a Malawi labour ward provoked an uproar on social mediaTeachers whipped by jihadists in Burkina FasoUN lifts sanctions on Eritrea after nine yearsMountain gorillas 'no longer critically endangered'Lagos state in Nigeria lifts school hijab banEthiopia‚Äôs army firm ‚Äòtransported arms to Somalia‚ÄôLibya 'will extradite' Manchester bomber's brotherZimbabwe marks one year since coupSuper Eagles offered $25,000 for SA goalsSouth Africa pink diamond fetches record priceCall to control meningitis in AfricaSA mayor apologies for cows head faux pasLive ReportingAll times stated are UKGet involvedGet involvedSend an email to africalive@bbc.co.ukTwitter:  Use the hashtag #BBCAfricaLiveFacebook:  BBC AfricaPosted at 18:19 14 Nov18:19 14 NovScroll down for Wednesday's stories üëáWe'll be back on ThursdayLucy FlemingBBC Africa LiveThat's all from BBC Africa Live for now. You can keep up-to-date with what's happening across the continent by listening to the Africa Today podcast or checking the BBC News website.A reminder of Wednesday's proverb:Quote Message: The eye is a coward." from Sent by Chepkirui Irine in Narok, Kenya The eye is a coward."Sent by Chepkirui Irine in Narok, KenyaClick here to send us your African proverbs.And as Zimbabwe marks a year since the dramatic events which led to the departure of long-time leader Robert Mugabe, we leave you with this Instagram post from photographer Ralph Kuda Chikambi of children going to school in an over-crowded suburb of the capital, Harare.View more on instagramView more on instagramPosted at 18:05 14 Nov18:05 14 NovMalawi midwife suspended over labour ward selfieA nurse in Malawi has been suspended pending further investigation after a selfie of her in a  labour ward was posted on social media.The selfie was widely shared provoking an uproar: View more on twitterView more on twitterJoshua Malango, public relations officer for Malawi's Ministry of Health, told the BBC Focus on Africa radio programme the photo was shocking.But he said the case had been referred to the Nurses' Council, which was investigating to see who took and circulated the photo.Posted at 18:04 14 Nov18:04 14 NovEx-UBS trader Kweku Adoboli being deportedBBCCopyright: BBCKweku Adoboli has not lived in Ghana since he was four and came to the UK 26 years agoImage caption: Kweku Adoboli has not lived in Ghana since he was four and came to the UK 26 years agoKweku Adoboli, the former UBS trader convicted of fraud, will be deported to Ghana from the UK on Wednesday, campaigners have said.His MP, Hannah Bardell, said he would be flown out of London's Heathrow airport in the early evening after being detained in Scotland on Monday night.She said Adoboli, aged 38 and who has lived in the UK for 26 years, was in a distressed state.The UK Home Office declined to comment on the reports.Read the BBC News story for more.Posted at 17:57 14 Nov17:57 14 NovBiafra leader 'must appear in court'AFPCopyright: AFPNnamdi Kanu set up Ipob in 2014Image caption: Nnamdi Kanu set up Ipob in 2014A Nigerian judge has said she wants missing pro-Biafra leader Nnamdi Kanu back in court after he resurfaced in Israel following his disappearance last year, the AFP news agency reports.The head of the Indigenous People of Biafra (Ipob) has been charged with treason after campaigning for an independent state called Biafra in south-eastern Nigeria.In 2009, he set up Radio Biafra, a station that broadcasts to Nigeria from London calling for an independent state for the Igbo people.He was released on bail last year after spending more than 19 months without trial.He went missing after his house in the south-eastern Abia state was raided by the military.But last month a video of him appeared on social media showing him praying at the Western Wall in Jerusalem.At the hearing in Nigeria's capital, Abuja, judge Binta Nyako ordered the three people who stood surety for Mr Kanu when he was granted bail to produce 
him in court or forfeit their money, AFP reports."I want you to go out to look for Nnamdi Kanu, I gave you a Nnamdi Kanu and 
you have lost him and I'm not happy with you. I want him back," she is quoted as saying.Posted at 17:42 14 Nov17:42 14 NovZimbabwe city considers mandatory cremationZimbabwe‚Äôs second city Bulawayo is considering mandatory cremation for
people who die aged 25 and below because of a shortage of burial space in the
city, the state-run Chronicle newspaper reports.Bulawayo City Council debated the contentious issue at a recent meeting, the paper quotes the
minutes as saying.One of the city‚Äôs six cemeteries ‚Äì West Park Cemetry ‚Äì only had space
for 200 graves, it said.The Chronicle
says city residents have opposed the idea of cremation in the past, saying
it was "unAfrican".In
Bulawayo, it costs about $63 (¬£49) to cremate a body, while conducting a burial
without a funeral policy is about $1,000, the report says.Posted at 17:41 14 Nov17:41 14 NovTeachers whipped by jihadists in Burkina FasoSimon GongoBBC Afrique, OuagadougouAFPCopyright: AFPJihadists wants schools in northern Burkina Faso to abandon secular educationImage caption: Jihadists wants schools in northern Burkina Faso to abandon secular educationSchools in Burkina Faso near the
borders with Mali and Niger are coming under increasing threat from jihadist
groups demanding the schools abandon secular education. On Monday, four armed men on
motorbikes pulled up to a school in the small northern community
of Toulf√©. Burkina Faso's Minister of Education
Stanislas Ouaro told BBC Afrique the gunmen forced everyone on to the floor
before whipping four of the teachers and the school director in front of the
students. The director got six lashes and
each teacher got two, he said. The gunmen reportedly introduced
themselves as Ansarul Islam members, an extremist group launched in 2016
by Malam Dicko and considered active in the northern part of the
country. Meanwhile, a public
school closed this week in the eastern town of Gayeri, after teachers
reported seeing a threatening message written in French on an
announcements board of the school. "We will come back on 14 November
to empty the school of its students. If we find a teacher, he is dead," the threat read, according to the education minister who spoke to the
teachers.The minister told the BBC more than
560 schools had not been operational in border areas since October as teachers had fled or not shown up to work because of security concerns.Posted at 17:24 14 Nov17:24 14 NovLibya 'will extradite' Manchester bomber's brotherBBC World ServiceLibyan Interior MinistryCopyright: Libyan Interior MinistryLibya had said last year that Hashem Abedi would face trial at homeImage caption: Libya had said last year that Hashem Abedi would face trial at homeLibya's prime minister says his country expects to extradite to the UK the brother of the Manchester bomber before the end of this year.Twenty-two people died in the suicide bombing at a concert at the Manchester Arena 18 months ago. The perpetrator, Salman Abedi, a Briton of Libyan parentage, died - but his brother Hashem was taken into custody in Libya.BBCCopyright: BBCSalman Abedi killed 22 people in the bombing at Manchester Arena in May 2017Image caption: Salman Abedi killed 22 people in the bombing at Manchester Arena in May 2017He's suspected of involvement, and is wanted by Manchester police on charges of murder, attempted murder, and conspiracy to cause explosions.Prime Minister Fayez al-Sarraj told the BBC his country was completing the legal moves for his extradition and understood the anguish of the victim's families.Posted at 17:16 14 Nov17:16 14 NovLifeline given to 'global pariah'AnalysisMary HarperAfrica editor, BBC World ServiceThe lifting of sanctions
against Eritrea is the latest in a series of dramatic developments in the Horn
of Africa. They were imposed in 2009 after
Eritrea was accused of supporting the Somali jihadist group al-Shabab.But the UN Security Council has adopted a resolution after UN monitors found there was no longer evidence Eritrea was backing the militants.Until a few months ago,
Eritrea was a global pariah - some even called it ‚ÄúAfrica's North Korea‚Äù.A politically repressive
closed state, Eritrea has been a major source of migrants to Europe.Change started when a
new prime minister came to power in Ethiopia, a close ally of the West.Abiy Ahmed spearheaded a
peace deal with Eritrea after two decades of hostilities.Getty ImagesCopyright: Getty ImagesEthiopia's Abiy Ahmed (left) brokered peace with Eritrea's Isaias Afwerki a few months agoImage caption: Ethiopia's Abiy Ahmed (left) brokered peace with Eritrea's Isaias Afwerki a few months agoBut Eritrea will have now to step up.It can no longer use enmity with its powerful neighbour or UN sanctions as an excuse for a near complete lack of political freedom, indefinite national service and a refusal to hold elections.Read: Behind the smiles of Eritrea's presidentPosted at 15:51 14 Nov15:51 14 NovSuper Eagles offered $25,000 for SA goalsThe governor of Nigeria‚Äôs
oil-rich Delta State has promised the Super Eagles $25,000 (¬£19,000) for every
goal scored on Saturday when the national football team plays South Africa.It is an important match ‚Äì to be played in Johannesburg ‚Äì and
a win against the Bafana Bafana would guarantee Nigeria a place at the Africa
Nations Cup in Cameroon next year.Ifeanyi Okowa made the pledge when he visited the Super Eagles at a
training session in his state on Tuesday:View more on twitterView more on twitterBBC Africa Sport‚Äôs Oluwashina Okeleji says it is not unusual for
Nigerian governors to offer rewards to footballers.The Super Eagles have been affected by rows over payments in the
past, but recent sponsorship deals have resolved issues over bonuses.Posted at 15:39 14 Nov15:39 14 NovEthiopia thanks UN for lifting Eritrea sanctionsEthiopia‚Äôs Prime
Minister Abiy Ahmed has thanked the UN Security Council for responding to his country‚Äôs
call to lift sanctions against neighbouring Eritrea.The UN vote comes a few months after the two countries agreed
a peace deal.In his tweeted statement, Mr Abiy said the
lifting of the sanctions were important for the whole of the Horn of Africa:Quote Message: The lifting of the sanctions will have far-reaching effects in improving the stability of the Horn of Africa region and in building peace and normalisation of relations among the countries of the region. The lifting of the sanctions will have far-reaching effects in improving the stability of the Horn of Africa region and in building peace and normalisation of relations among the countries of the region.Quote Message: It will further enhance the collaborative gains that we have achieved in the region over the last few months." It will further enhance the collaborative gains that we have achieved in the region over the last few months."View more on twitterView more on twitterPosted at 15:20 14 Nov15:20 14 NovBreakingUN removes Eritrea sanctions after nine yearsThe UN Security Council 
has voted unanimously to lift sanctions on Eritrea, which were imposed nine years ago.An arms embargo, asset freeze, and travel ban were enforced amid allegations that Eritrea supported al-Shabab militants in Somalia.The lifting of the sanctions comes after a thawing of relations in the region and a landmark peace deal with neighbouring Ethiopia.Posted at 14:56 14 Nov14:56 14 NovMountain gorillas 'no longer critically endangered'Getty ImagesCopyright: Getty ImagesMountain gorillas still face threats from poachers and recurring civil unrestImage caption: Mountain gorillas still face threats from poachers and recurring civil unrestMountain gorillas are no
longer ‚Äúcritically endangered‚Äù, according to the new extinction
Red List.However, the primates, who
live in border area between the Democratic Republic of Congo, Rwanda and Uganda,
still remain ‚Äúendangered‚Äù.When the list was last
put together by the International Union for
Conservation of Nature (IUCN) in 2008, the mountain gorilla population was
estimated to be around 680.IUCN says over the
last decade estimates show that the population has increased to more than 1,000,the highest figure ever recorded.This is thanks to conservation
measures, including anti-poaching and veterinary patrols, and
‚Äúpositive engagement from communities‚Äù living around their protected habitat covering
approximately 792 sq km (305 sq miles).IUCN's Liz Williamson cautioned that such efforts had to be maintained:Quote Message: Whilst it is fantastic news that mountain gorillas are increasing in number, this subspecies is still Endangered and therefore conservation action must continue." Whilst it is fantastic news that mountain gorillas are increasing in number, this subspecies is still Endangered and therefore conservation action must continue."The gorillas still face threats from poaching, recurring civil unrest and diseases passed on by humans, including Ebola.BBCCopyright: BBCRead the BBC News story for more.Posted at 13:49 14 Nov13:49 14 NovEthiopia‚Äôs army firm ‚Äòtransported arms to Somalia‚ÄôBekele Atoma BoruBBC Horn of AfricaEBCCopyright: EBCFormer Metec head, Maj Gen Kinfe Dagnew, was arrested on TuesdayImage caption: Former Metec head, Maj Gen Kinfe Dagnew, was arrested on TuesdayEthiopia‚Äôs military-run conglomerate Metals and Engineering Corporation (Metec) is a hot topic in the Horn of Africa nation after a TV documentary alleged it was involved in illegal arms trading.It was broadcast on state-run television ETV and other government-affiliated media just hours after the former head of the firm, Maj Gen Kinfe Dagnew, was arrested as he tried to flee to neighbouring Sudan.The documentary alleges that among other things, Metec was involved in transporting arms to Somalia.Suleiman Dedefo, Ethiopia‚Äôs former ambassador to Djibouti, told the programme that in 2016 Metec allegedly purchased two old ships from Ethiopian Shipping Lines to demolish and use the parts as scrap metal, but instead renovated and used them to transport weapons and other contraband between Iran and Somalia.He said that he wrote letters to several government institutions including Ethiopia‚Äôs Foreign Affairs Ministry, about the allegations, but received no response. His letter is circulating on social media.On Monday, Ethiopia‚Äôs Attorney General Berhanu Tsegaye announced that vast corruption had been unveiled at Metec after a five-month investigation.He said Metec had made foreign purchases, totalling $2bn (¬£1.5bn), without any bidding processes.As a result, 27 officials of the firm are now under arrest, he added.

Neither Maj Gen Kinfe nor officials at Metec have commented on the allegations.The arrests are the biggest crackdown on corruption in Ethiopia, which is undergoing massive reforms since Prime Minister Abiy Ahmed came to power seven months ago.In August, Mr Abiy took away work contracted to Metec to build Ethiopia‚Äôs Grand Renaissance Dam - a massive infrastructure project to dam the Nile River - and gave it to foreign firms. AFPCopyright: AFPPrime Minister Abiy Ahmed has been behind a whole series of reforms in the last seven monthsImage caption: Prime Minister Abiy Ahmed has been behind a whole series of reforms in the last seven monthsPosted at 13:15 14 Nov13:15 14 NovNigeria complaint line announced with wrong numberNigerians now have an
official phone number to call to complain about sub-standard products, instead
of bending the ears of their friends.The government Twitter account posted the number:View more on twitterView more on twitterFirst problem with this was that the number was wrong.The Standards Organisation of Nigeria posted the correct number, but the phone looks like an antique (by phone standards):View more on twitterView more on twitterAnd others have been quick to respond with their suggestions of sub-standard political products:Quote Message: There‚Äôs this lifeless and expired product resident in [state house]... Thanks. Sincerely 180 million Nigerians." from @alonzomoni There‚Äôs this lifeless and expired product resident in [state house]... Thanks. Sincerely 180 million Nigerians."@alonzomoniOthers think that it would be easier to tell people which products were standard:View more on twitterView more on twitterAnd there is the demand for a number to complain about the irregular power supply:View more on twitterView more on twitterPosted at 12:22 14 Nov12:22 14 NovSA mayor apologies for cows head faux pasThe mayor of South Africa‚Äôs largest
city, Johannesburg, has apologised for suggesting that a meat trader pushing cows heads in a shopping trolley was responsible for spreading
diseases, such as Ebola.There was a backlash on social
media to Herman Mashaba‚Äôs Monday' tweet.View more on twitterView more on twitterHe was accused of being
insensitive to the struggles faced by informal traders.In response to a suggestion that the trader
be helped, he tweeted: ‚ÄúWe are going to sit back and allow people
like you to bring us Ebola in the name of small business.Health of our people first. Our health
facilities are already stretched to the limit.‚ÄùIn his apology, which he also
tweeted, the mayor said that in future he would organise for health inspectors to work with traders
so they could understand safety standards and why they were important.He added: ‚ÄúFor the insensitivity of my
remarks about Ebola, I apologise unreservedly to those who my remarks have
offended."View more on twitterView more on twitterThe BBC's Pumza Fihlani in Johannesburg says meat from cow heads is enjoyed in many parts of South Africa. Posted at 11:10 14 Nov11:10 14 NovLagos lifts school hijab banAFPCopyright: AFPLagos state has informed schools that no student should be discriminated against on the basis of religionImage caption: Lagos state has informed schools that no student should be discriminated against on the basis of religionGirls
in the Nigerian state of Lagos are now allowed to wear a hijab to school, the
authorities have said.The
Muslim headscarf has been at the centre of a row in the state since 2014 when a
Lagos high court banned them in schools.The decision was overturned on appeal two years later, but the state then took the case to the Supreme Court and did not lift the ban at school, the Daily Trust reports.In a
circular, the state government said it would now allow girls to wear hijabs pending the
Supreme Court ruling.It
stipulated that a student‚Äôs hijbab had to be ‚Äúshort, smart, neat and in the same colour of the uniform‚Äù."No student should be discriminated against in any form on the basis of religion," it added.Saheed Ashafa, from the Muslim Students‚Äô Society of Nigeria (MSSN) in Lagos State, welcomed the move, the Vanguard newspaper reports.He condemned ‚Äúthe embarrassing way and manner that our
members are being victimised, harassed, punished and denied entrance into their
classrooms for wearing Hijab‚Äù.The decision comes days after a school in nearby Oyo state
closed after refusing to allow students to enter the school premises wearing hijabs.This sparked protests by parents which had led to the
closure of The University of Ibadan International School.Nigeria's population is roughly divided between Muslims and Christians.The majority of Muslims live in the north and Christians primarily are in the south - though  Lagos has a religiously mixed population.Read: Nigeria's war of religious robesPosted at 10:27 14 Nov10:27 14 NovSA pink diamond fetches record priceAFPCopyright: AFPThe diamond's new owners have rechristened it the Winston Pink LegacyImage caption: The diamond's new owners have rechristened it the Winston Pink LegacyA rare pink diamond has fetched 50.3m Swiss francs ($50m; ¬£38.5m) at auction, a record price per carat.Pink Legacy, weighing in at just under 19 carats, was bought by US brand Harry Winston at auction in the Swiss city of Geneva.The rectangular-cut stone was found in a South African mine around 100 years ago and has likely not been altered since it was first cut in 1920, the auction house Christie's said.Finding a fancy vivid pink diamond larger than 10 carats is virtually unheard of, the auction house said.The price of around $2.6m per carat marked a world record for a pink diamond, according to the Europe head of Christie's.It had been valued at between $30-$50m before sale, and was bought after only five minutes of bidding.The diamond's new owners have rechristened it the Winston Pink Legacy.Read the BBC News story for morePosted at 9:27 14 Nov9:27 14 NovZimbabwe marks one year since coupAnalysisAndrew HardingBBC NewsGetty ImagesCopyright: Getty ImagesTanks began moving towards Harare on 14 November 2017, taking up positions on the streets the following dayImage caption: Tanks began moving towards Harare on 14 November 2017, taking up positions on the streets the following dayIt is a year since Zimbabwe‚Äôs army staged a coup to force
President Robert Mugabe out of power. One year on, and the country is still wrestling with his 37-year legacy.His successor, Emmerson Mnangagwa, has won a disputed
election and the authorities insist they are making progress to end the
country‚Äôs political isolation and a long economic slump.The government is promising a new era of transparency and
accountability, and what it calls painful reforms to balance the national
budget.That means new taxes, privatisation, and drastic cuts to the
civil service wage bill. But many Zimbabweans are sceptical. The local currency has
collapsed in value, sending prices for many basic goods soaring.And there are real concerns that the governing Zanu-PF ‚Äì
still stacked with feuding members of Mr Mugabe‚Äôs old regime ‚Äì is simply not up
to the task of transforming the country and reviving its shattered economy.Still, Zimbabwe is a calmer, less fearful place right now.Read: No cash, no bread, no KFCPosted at 9:27 14 Nov9:27 14 NovCall to control meningitis in AfricaAnne SoyBBC senior Africa correspondentAFPCopyright: AFPThe paper calls for wider vaccination programmes across the "meningitis belt"Image caption: The paper calls for wider vaccination programmes across the "meningitis belt"African
governments are being urged to do more to control meningitis, especially in the
region that stretches from Senegal in the West to Ethiopia in the East. A
paper published in the medical journal, Lancet Neurology, found that while
significant progress had been made towards controlling the disease worldwide,
the so-called ‚Äúmeningitis belt‚Äù in sub-Saharan Africa was lagging behind.Last year, some 18,000 cases were reported in Nigeria and Niger.The
contagious disease, which can cause brain damage, blindness and deafness, can
be controlled with vaccines.The Meningitis Research Foundation proposes the development of
cheaper and more broad-based vaccines and the reduction in cost of diagnostic tests
and treatments.Posted at 9:07 14 Nov9:07 14 NovUN to lift sanctions on EritreaGetty ImagesCopyright: Getty ImagesThe Eritrean government says it wants compensation after nine years of sanctionsImage caption: The Eritrean government says it wants compensation after nine years of sanctionsDiplomats at the United Nations say
they expect the Security Council to vote unanimously later on Wednesday to lift
the sanctions against Eritrea.It comes amid a thawing of relations
in the region and a landmark peace deal with neighbouring Ethiopia.The sanctions were imposed nine
years ago over the country‚Äôs alleged support of al-Shabab Islamist miltants in Somalia.A draft resolution proposed by the
UK recognises that UN monitors have failed to substantiate the allegations.Adoption of the resolution would
immediately lift the arms embargo, targeted asset freeze and travel ban
imposed on Eritrea.The BBC's Emmanuel Igunza says Eritrea sits on a strategic point on the Red Sea that connects Europe,
Africa and the East, but its economy has been badly affected by years of
sanctions.The Eritrean government says it wants compensation for the punitive
measures which it calls unjustified and politically motivated, he says.But critics say the country has done little to address human
rights abuses from within and, in particular, the indefinite national service
conscription that has led to tens of thousands of young Eritreans fleeing the
country towards Europe.Ethiopia‚Äôs ambassador to
the UN, Taye Atske Selassie, said the end of sanctions would "definitely open up a
lot of possibilities for Eritrea," drawing foreign investors
and bringing Asmara back into the international fold, the AFP news agency
reports.Page 1 of 5rewindpreviousNavigate to the next pagenextNavigate to the last pageforwardBack to top"],area:[1,"",""],col:[2,"",""],legend:[1,"",""],param:[1,"",""],tr:[2,"",""],optgroup:u,option:u,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c};["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"].forEach(function(e){d[e]=p,s[e]=!0}),e.exports=r},function(e,t,n){"use strict";var r=n(29),o=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});e.exports=o},function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var o=n(8),a=n(30),i=n(3),s=n(7),u={initialize:s,close:function(){d.isBatchingUpdates=!1}},l={initialize:s,close:o.flushBatchedUpdates.bind(o)},c=[l,u];i(r.prototype,a.Mixin,{getTransactionWrappers:function(){return c}});var p=new r,d={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,o,a){var i=d.isBatchingUpdates;d.isBatchingUpdates=!0,i?e(t,n,r,o,a):p.perform(e,null,t,n,r,o,a)}};e.exports=d},function(e,t,n){"use strict";function r(e){try{e.focus()}catch(e){}}e.exports=r},function(e,t,n){"use strict";function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var o={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},a=["Webkit","ms","Moz","O"];Object.keys(o).forEach(function(e){a.forEach(function(t){o[r(t,e)]=o[e]})});var i={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},s={isUnitlessNumber:o,shorthandPropertyExpansions:i};e.exports=s},function(e,t,n){"use strict";function r(e){var t=e&&(o&&e[o]||e[a]);if("function"==typeof t)return t}var o="function"==typeof Symbol&&Symbol.iterator,a="@@iterator";e.exports=r},function(e,t,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=i.getValue(e);null!=t&&o(this,Boolean(e.multiple),t)}}function o(e,t,n){var r,o,a=s.getNode(e._rootNodeID).options;if(t){for(r={},o=0;o0&&n.right>0&&n.left1,"br-page-link-onbg br-page-bg-ontext br-page-link-onbg br-page-linkhover-onbg--hover br-page-bg-ontext--hover":"true"===e.brandingTool}),d=(0,s.default)("gs-u-vh","qa-vh-navigation-first"),f=(0,s.default)("lx-pagination__btn","qa-pagination-previous-page",{"lx-pagination__btn--rtl":"rtl"===e.cssDirection,"lx-pagination__btn--inactive":1===e.currentPageNumber,"lx-pagination__btn--active":e.currentPageNumber>1,"br-page-link-onbg br-page-bg-ontext br-page-link-onbg br-page-linkhover-onbg--hover br-page-bg-ontext--hover":"true"===e.brandingTool}),m=(0,s.default)("gs-u-vh","qa-vh-navigation-previous"),g=(0,s.default)("lx-pagination__btn","gs-u-mr+","qa-pagination-next-page",{"lx-pagination__btn--rtl":"rtl"===e.cssDirection,"lx-pagination__btn--inactive":e.currentPageNumber===e.totalPageNumber,"lx-pagination__btn--active":e.currentPageNumber!==e.totalPageNumber,"br-page-link-onbg br-page-bg-ontext br-page-link-onbg br-page-linkhover-onbg--hover br-page-bg-ontext--hover":"true"===e.brandingTool}),v=(0,s.default)("gs-u-vh","qa-vh-navigation-next"),_=(0,s.default)("lx-pagination__btn","qa-pagination-last-page",{"lx-pagination__btn--rtl":"rtl"===e.cssDirection,"lx-pagination__btn--inactive":e.currentPageNumber===e.totalPageNumber,"lx-pagination__btn--active":e.currentPageNumber!==e.totalPageNumber,"br-page-link-onbg br-page-bg-ontext br-page-link-onbg br-page-linkhover-onbg--hover br-page-bg-ontext--hover":"true"===e.brandingTool}),P=(0,s.default)("gs-u-vh","qa-vh-navigation-last"),x={pageText:e.getTranslationFor("page"),ofText:e.getTranslationFor("of"),nextPage:e.getTranslationFor("next_page"),lastPage:e.getTranslationFor("last_page"),previousPage:e.getTranslationFor("previous_page"),firstPage:e.getTranslationFor("first_page")};return a.default.createElement("div",{className:t},a.default.createElement("div",{className:"lx-pagination__details gs-u-ph qa-pagination-details"},x.pageText,a.default.createElement("span",{className:"lx-pagination__page-number qa-pagination-current-page-number"}," "+e.currentPageNumber+" "),x.ofText,a.default.createElement("span",{className:"lx-pagination__page-number qa-pagination-total-page-number"}," "+e.totalPageNumber)),a.default.createElement("div",{className:"lx-pagination__controls lx-pagination__controls--left qa-pagination-left"},y(e,i,1,p,d,x.firstPage,"first","rewind"),y(e,l,r,f,m,x.previousPage,"prev","previous")),a.default.createElement("div",{className:"lx-pagination__controls lx-pagination__controls--right  qa-pagination-right"},b(e,c,o,g,v,x.nextPage,"next","next"),b(e,u,n,_,P,x.lastPage,"last","forward")))};y.propTypes={currentPageNumber:a.default.PropTypes.number.isRequired},b.propTypes={currentPageNumber:a.default.PropTypes.number.isRequired,totalPageNumber:a.default.PropTypes.number.isRequired},_.propTypes={currentPageNumber:a.default.PropTypes.number.isRequired,totalPageNumber:a.default.PropTypes.number.isRequired,getTranslationFor:a.default.PropTypes.func.isRequired,cssDirection:a.default.PropTypes.string.isRequired,brandingTool:a.default.PropTypes.string.isRequired},_.defaultProps={currentPageNumber:1},t.default={Pagination:_,getPaginationUrl:h},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(99),o=n.n(r);Morph.modules["bbc-morph-lx-stream-v4@0.9.5"]=o.a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t0?n.pageNumber-1:1,i=n.pageNumber+1,s={uri:p(n,1),requireSuccess:!1,updates:t.updateStreamData},u={uri:p(n,a),requireSuccess:!1,updates:t.updateStreamData},l={uri:p(n,i),requireSuccess:!1,updates:t.updateStreamData};if(t&&t.pinnedPostLocator){var d={pinnedPost:{uri:{data:"bbc-morph-cs-enriched-post",locator:t.pinnedPostLocator,isUk:e.isUk||"false",nitroKey:e.nitroKey},requireSuccess:!1,updates:!1}};return o({},r,d,{cachedFirstPage:s,cachedPreviousPage:u,cachedNextPage:l})}return o({},r,{cachedFirstPage:s,cachedPreviousPage:u,cachedNextPage:l})}}),e.exports=t.default},function(e,t){e.exports={create:function(e,t){return Morph.createContainerWithCaller("bbc-morph-lx-stream-v4@0.9.5",e,t)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;tt},W=function(e,t,n,r,o){return t>=2&&!H(t,n)?i.default.createElement("div",{className:"lx-pagination__nav gs-u-mb+ qa-top-navigation"},i.default.createElement(I.Pagination,{onClick:V(e),assetUri:e.props.assetUri,urlTemplate:e.props.urlTemplate,isApp:r,currentPageNumber:t,totalPageNumber:n,getTranslationFor:e.props.getTranslationFor,cssDirection:o,brandingTool:e.props.brandingTool})):i.default.createElement("noscript",null)},K=function(e,t,n,r,o){return n>1&&!H(t,n)?i.default.createElement("div",{className:"lx-pagination__nav gs-u-mb+ qa-bottom-navigation"},i.default.createElement(I.Pagination,{onClick:V(e),assetUri:e.props.assetUri,urlTemplate:e.props.urlTemplate,isApp:r,currentPageNumber:t,totalPageNumber:n,getTranslationFor:e.props.getTranslationFor,cssDirection:o,brandingTool:e.props.brandingTool})):i.default.createElement("noscript",null)},z=function(e,t,n,r,o,a,s,u,l,c,p,d,f,m,h,g){return 0===o.length&&H(d,f)?i.default.createElement(L.default,e):i.default.createElement(N.default,{renderBefore:p,isUk:t,adsProhibitedCps:n,isApp:r,brandingTool:e.brandingTool,posts:o,cssDirection:a,getTranslationFor:s,assetUri:u,mode:l,baseUrl:c,currentPageNumber:d,pageNumber:d,limit:e.ltsLimit,nitroKey:e.nitroKey,useAlternateReactionIconsToggle:m,useReactionsStreamV4Toggle:h,useReactionCountsToggle:g,theme:e.theme})},Y=i.default.createClass({displayName:"LXStream",propTypes:{isApp:i.default.PropTypes.string,experimental:i.default.PropTypes.string,serviceName:i.default.PropTypes.string,theme:i.default.PropTypes.string,brandingTool:i.default.PropTypes.string},getInitialState:function(){return{pinnedPost:{loading:!1,locator:!1,inPayload:!1},baseUrl:""}},componentWillMount:function(){T.default.profileStart("startRender"),(0,c.default)(y.default.getGrandstandServiceName(this.props)),m.default.selfTransitiveThenUpdate(y.default.getCSSDirection(this.props),this)},isPinnedPostInPayload:function(e,t){return!!t&&(0,b.postInPayload)(e,t)},setPinnedPost:function(){var e=this,t=(0,_.getQueryParamValueFor)("pinned_post_locator"),n=this.isPinnedPostInPayload(this.props,t);t&&(B(),this.setState({pinnedPost:{locator:t,inPayload:n}},function(){!n&&t&&e.props.setDataParams({pinnedPostLocator:t})}))},shouldRenderPinnedPostLoadingMessage:function(e,t){return!e.some(function(e){return e.isPinned})&&!t.pinnedPost.inPayload&&t.pinnedPost.locator},renderPinnedLoadingMessage:function(){var e=(0,b.getAllPostsIncludingPinned)(this.props,this.state);return this.shouldRenderPinnedPostLoadingMessage(e,this.state)?i.default.createElement("li",{className:"lx-stream__post-container qa-pinned-post-loading-message"},i.default.createElement(k.default,{loadingText:this.props.getTranslationFor("loading_shared")})):i.default.createElement("noscript",null)},setBaseUrl:function(){this.setState({baseUrl:(0,P.getUrlWithPath)()})},advertisingProhibitedCpsToggle:function(){var e=this.getCpsOptionsData(this.props.commentaryMeta);return void 0!==e.allowAdvertising&&!e.allowAdvertising},hasValidCpsOptionData:function(e){return!(!e||!e.meta)&&(200===e.meta.responseCode&&e.body)},getCpsOptionsData:function(e){return this.hasValidCpsOptionData(e)&&e.body&&e.body.options?e.body.options:{}},componentDidMount:function(){this.setBaseUrl(),this.setPinnedPost(),d.default.load(),T.default.profileEnd("startRender")},componentWillUpdate:function(){T.default.profileStart("streamRerender")},componentDidUpdate:function(){this.props.updateMetadata.body.latestChange>this.props.streamData.body.latestChange?this.props.setDataParams({updateStreamData:!0}):F(q(this.props.streamData.body),this.props.updateMetadata.body.posts)?this.props.setDataParams({updateStreamData:!0}):this.props.dataParams.updateStreamData&&this.props.setDataParams({updateStreamData:!1}),T.default.profileEnd("streamRerender")},render:function(){var e=(0,b.getAllPostsIncludingPinned)(this.props,this.state),t="true"===this.props.isUk,n=this.advertisingProhibitedCpsToggle(),r="true"===this.props.isApp,a=this.props.getTranslationFor,s=this.props.streamHeadingId||!1,l=this.props.assetUri,c=this.props.ltsConfig.mode,p=this.props.streamData.body.currentPage,d=this.props.streamData.body.numberOfPages,f=this.props.alternateReactionIconsToggle&&void 0!==this.props.alternateReactionIconsToggle.body&&!0===this.props.alternateReactionIconsToggle.body,m=this.props.reactionsStreamV4Toggle&&void 0!==this.props.reactionsStreamV4Toggle.body&&!0===this.props.reactionsStreamV4Toggle.body,h=this.props.lxStreamReactionCountsToggle&&void 0!==this.props.lxStreamReactionCountsToggle.body&&!0===this.props.lxStreamReactionCountsToggle.body,v=this.renderPinnedLoadingMessage,_=this.state.baseUrl,P=y.default.getCSSDirection(this.props),x=(0,u.default)("lx-stream","qa-stream","gs-u-box-size",g.default.getProductThemeClass(this.props),{"br-keyline":"true"===this.props.brandingTool}),T={className:x,dir:y.default.getCSSDirection(this.props)};return s&&(T=o({},T,{"aria-labelledby":s})),i.default.createElement("div",o({id:"lx-stream"},T),W(this,p,d,r,P),z(this.props,t,n,r,e,P,a,l,c,_,v,p,d,f,m,h),K(this,p,d,r,P))}});t.default=(0,C.default)((0,R.default)((0,D.default)(Y))),e.exports=t.default},function(e,t){e.exports=Morph.modules["bbc-morph-grandstand@5.1.2"]},function(e,t){e.exports=Morph.modules["bbc-morph-lazysizes@0.2.3"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getProductThemeClass:function(e){return e&&e.theme?"gs-t-"+e.theme:""}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(106),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={getGrandstandServiceName:function(e){return e&&e.serviceName?e.serviceName:"latin-flexbox"},getCSSDirection:function(e){return o.default.getDirectionality(e.serviceName).toLowerCase()}},e.exports=t.default},function(e,t){e.exports=Morph.modules["bbc-morph-ws-typography-info@1.0.6"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t0},s=function(e,t){if(e.pinnedPost&&e.pinnedPost.body)return r({isPinned:!0,tagText:e.getTranslationFor("shared")},e.pinnedPost.body);if(t.pinnedPost&&t.pinnedPost.locator){var n=a(e),o=n.filter(function(e){return e.locator===t.pinnedPost.locator});if(o&&o.length>0){var i=o[0];return i.isPinned=!0,i.tagText=e.getTranslationFor("shared"),i}}return null},u=function(e,t){var n=s(e,t);return n?[n].concat(o(n,e.streamData.body.results)):a(e)};t.default={postInPayload:i,getAllPosts:a,getAllPostsIncludingPinned:u},e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t0&&e[0])&&e.reduce(function(e,t){var n=t.split("=");return o(r({},n[0],n[1]),e)},{})},i=function(e){return a()[e]||!1};t.default={getQueryParamsAsObject:a,getQueryParamValueFor:i},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t-1){return r.split("-")[0]}return r}return!1},c=function(e,t,n){return!(!i(e)||u(t))&&s(e,"YYYY",n)},p=function(e,t,n){if(!a(e)&&u(t)){var r=s(e,t,n);if(r.indexOf("-")>-1){return r.split("-")[1]}}return!1},d=function(e){return e&&"date-format"!==e?e:"ll"},f=function(e){var t=(0,o.default)(e.firstPublished),n="string"==typeof e.manualTime,r=d(e.getTranslationFor("date-format")),a=e.language||"en-GB",i={manualTime:e.manualTime};return!n&&t&&(i.time=t.format("H:mm"),i.date=l(t,r,a),i.year=c(t,r,a),i.alternateDate=p(t,r,a)),i};t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t0){var t={children:e.body},n=i.default.createElement("noscript",null);return e.sourceAsset&&e.sourceAsset.type&&"MAP"!==e.sourceAsset.type&&(n=i.default.createElement("div",{className:"lx-stream-contextual-body"},d(e.sourceAsset),(0,l.default)(e.sourceAsset))),i.default.createElement("div",{className:"lx-stream-post-body"},(0,s.renderChildren)(t),n)}return i.default.createElement("noscript",null)};f.displayName="PostType",t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t8&&x1?1-t:void 0;return this._fallbackText=o.slice(e,s),this._fallbackText}}),o.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=n(14),a={data:null};o.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=n(14),a={data:null};o.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function o(e){var t=T.getPooled(k.change,S,e,E(e));_.accumulateTwoPhaseDispatches(t),x.batchedUpdates(a,t)}function a(e){b.enqueueEvents(e),b.processEventQueue(!1)}function i(e,t){I=e,S=t,I.attachEvent("onchange",o)}function s(){I&&(I.detachEvent("onchange",o),I=null,S=null)}function u(e,t,n){if(e===M.topChange)return n}function l(e,t,n){e===M.topFocus?(s(),i(t,n)):e===M.topBlur&&s()}function c(e,t){I=e,S=t,R=e.value,O=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(I,"value",L),I.attachEvent("onpropertychange",d)}function p(){I&&(delete I.value,I.detachEvent("onpropertychange",d),I=null,S=null,R=null,O=null)}function d(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==R&&(R=t,o(e))}}function f(e,t,n){if(e===M.topInput)return n}function m(e,t,n){e===M.topFocus?(p(),c(t,n)):e===M.topBlur&&p()}function h(e,t,n){if((e===M.topSelectionChange||e===M.topKeyUp||e===M.topKeyDown)&&I&&I.value!==R)return R=I.value,S}function g(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function v(e,t,n){if(e===M.topClick)return n}var y=n(10),b=n(23),_=n(22),P=n(4),x=n(8),T=n(14),E=n(38),C=n(39),w=n(68),N=n(13),M=y.topLevelTypes,k={change:{phasedRegistrationNames:{bubbled:N({onChange:null}),captured:N({onChangeCapture:null})},dependencies:[M.topBlur,M.topChange,M.topClick,M.topFocus,M.topInput,M.topKeyDown,M.topKeyUp,M.topSelectionChange]}},I=null,S=null,R=null,O=null,D=!1;P.canUseDOM&&(D=C("change")&&(!("documentMode"in document)||document.documentMode>8));var A=!1;P.canUseDOM&&(A=C("input")&&(!("documentMode"in document)||document.documentMode>9));var L={get:function(){return O.get.call(this)},set:function(e){R=""+e,O.set.call(this,e)}},U={eventTypes:k,extractEvents:function(e,t,n,o,a){var i,s;if(r(t)?D?i=u:s=l:w(t)?A?i=f:(i=h,s=m):g(t)&&(i=v),i){var c=i(e,t,n);if(c){var p=T.getPooled(k.change,c,o,a);return p.type="change",_.accumulateTwoPhaseDispatches(p),p}}s&&s(e,t,n)}};e.exports=U},function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):a.addComponentAsRefTo(t,e,n)}function o(e,t,n){"function"==typeof e?e(null):a.removeComponentAsRefFrom(t,e,n)}var a=n(129),i={};i.attachRefs=function(e,t){if(null!==t&&!1!==t){var n=t.ref;null!=n&&r(n,e,t._owner)}},i.shouldUpdateRefs=function(e,t){var n=null===e||!1===e,r=null===t||!1===t;return n||r||t._owner!==e._owner||t.ref!==e.ref},i.detachRefs=function(e,t){if(null!==t&&!1!==t){var n=t.ref;null!=n&&o(n,e,t._owner)}},e.exports=i},function(e,t,n){"use strict";var r=n(1),o={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){o.isValidOwner(n)||r(!1),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){o.isValidOwner(n)||r(!1),n.getPublicInstance().refs[t]===e.getPublicInstance()&&n.detachRef(t)}};e.exports=o},function(e,t,n){"use strict";var r=0,o={createReactRootIndex:function(){return r++}};e.exports=o},function(e,t,n){"use strict";var r=n(13),o=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];e.exports=o},function(e,t,n){"use strict";var r=n(10),o=n(22),a=n(31),i=n(5),s=n(13),u=r.topLevelTypes,l=i.getFirstReactDOM,c={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[u.topMouseOut,u.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[u.topMouseOut,u.topMouseOver]}},p=[null,null],d={eventTypes:c,extractEvents:function(e,t,n,r,s){if(e===u.topMouseOver&&(r.relatedTarget||r.fromElement))return null;if(e!==u.topMouseOut&&e!==u.topMouseOver)return null;var d;if(t.window===t)d=t;else{var f=t.ownerDocument;d=f?f.defaultView||f.parentWindow:window}var m,h,g="",v="";if(e===u.topMouseOut?(m=t,g=n,h=l(r.relatedTarget||r.toElement),h?v=i.getID(h):h=d,h=h||d):(m=d,h=t,v=n),m===h)return null;var y=a.getPooled(c.mouseLeave,g,r,s);y.type="mouseleave",y.target=m,y.relatedTarget=h;var b=a.getPooled(c.mouseEnter,v,r,s);return b.type="mouseenter",b.target=h,b.relatedTarget=m,o.accumulateEnterLeaveDispatches(y,b,g,v),p[0]=y,p[1]=b,p}};e.exports=d},function(e,t,n){"use strict";function r(e){o.enqueueEvents(e),o.processEventQueue(!1)}var o=n(23),a={handleTopLevel:function(e,t,n,a,i){r(o.extractEvents(e,t,n,a,i))}};e.exports=a},function(e,t,n){"use strict";function r(e){for(var t=1,n=0,r=0,a=e.length,i=-4&a;r]+)/,c={dangerouslyRenderMarkup:function(e){o.canUseDOM||u(!1);for(var t,n={},c=0;c=0||null!=t.is}function g(e){m(e),this._tag=e.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null}var v=n(146),y=n(147),b=n(17),_=n(52),P=n(10),x=n(32),T=n(49),E=n(154),C=n(155),w=n(157),N=n(85),M=n(159),k=n(5),I=n(160),S=n(9),R=n(42),O=n(3),D=n(41),A=n(34),L=n(1),U=(n(39),n(13)),j=n(33),q=n(51),F=(n(86),n(48),n(2),x.deleteListener),B=x.listenTo,V=x.registrationNameModules,H={string:!0,number:!0},W=U({children:null}),K=U({style:null}),z=U({__html:null}),Y=1,G={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},X={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Q={listing:!0,pre:!0,textarea:!0},$=(O({menuitem:!0},X),/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/),Z={},J={}.hasOwnProperty;g.displayName="ReactDOMComponent",g.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,t,n){this._rootNodeID=e;var r=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},t.getReactMountReady().enqueue(p,this);break;case"button":r=E.getNativeProps(this,r,n);break;case"input":C.mountWrapper(this,r,n),r=C.getNativeProps(this,r,n);break;case"option":w.mountWrapper(this,r,n),r=w.getNativeProps(this,r,n);break;case"select":N.mountWrapper(this,r,n),r=N.getNativeProps(this,r,n),n=N.processChildContext(this,r,n);break;case"textarea":M.mountWrapper(this,r,n),r=M.getNativeProps(this,r,n)}u(this,r);var o;if(t.useCreateElement){var a=n[k.ownerDocumentContextKey],i=a.createElement(this._currentElement.type);_.setAttributeForID(i,this._rootNodeID),k.getID(i),this._updateDOMProperties({},r,t,i),this._createInitialChildren(t,r,n,i),o=i}else{var s=this._createOpenTagMarkupAndPutListeners(t,r),l=this._createContentMarkup(t,r,n);o=!l&&X[this._tag]?s+"/>":s+">"+l+""+this._currentElement.type+">"}switch(this._tag){case"input":t.getReactMountReady().enqueue(d,this);case"button":case"select":case"textarea":r.autoFocus&&t.getReactMountReady().enqueue(v.focusDOMComponent,this)}return o},_createOpenTagMarkupAndPutListeners:function(e,t){var n=">"}var h=n(11),g=n(46),v=n(7),y=n(84),b=">",_={array:o("array"),bool:o("boolean"),func:o("function"),number:o("number"),object:o("object"),string:o("string"),any:function(){return r(v.thatReturns(null))}(),arrayOf:a,element:function(){function e(e,t,n,r,o){if(!h.isValidElement(e[t])){var a=g[r];return new Error("Invalid "+a+" `"+o+"` supplied to `"+n+"`, expected a single ReactElement.")}return null}return r(e)}(),instanceOf:i,node:function(){function e(e,t,n,r,o){if(!p(e[t])){var a=g[r];return new Error("Invalid "+a+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")}return null}return r(e)}(),objectOf:u,oneOf:s,oneOfType:l,shape:c};e.exports=_},function(e,t,n){"use strict";var r=n(158),o=n(85),a=n(3),i=(n(2),o.valueContextKey),s={mountWrapper:function(e,t,n){var r=n[i],o=null;if(null!=r)if(o=!1,Array.isArray(r)){for(var a=0;a"+s+""},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var o=i.getNode(this._rootNodeID);r.updateTextContent(o,n)}}},unmountComponent:function(){a.unmountIDFromEnvironment(this._rootNodeID)}}),e.exports=c},function(e,t,n){"use strict";function r(e){var t=d.getID(e),n=p.getReactRootIDFromNodeID(t),r=d.findReactContainerForID(n);return d.getFirstReactDOM(r)}function o(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function a(e){i(e)}function i(e){for(var t=d.getFirstReactDOM(h(e.nativeEvent))||window,n=t;n;)e.ancestors.push(n),n=r(n);for(var o=0;ot.end?(n=t.end,r=t.start):(n=t.start,r=t.end),o.moveToElementText(e),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",r-n),o.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,o=Math.min(t.start,r),a=void 0===t.end?o:Math.min(t.end,r);if(!n.extend&&o>a){var i=a;a=o,o=i}var s=l(e,o),u=l(e,a);if(s&&u){var p=document.createRange();p.setStart(s.node,s.offset),n.removeAllRanges(),o>a?(n.addRange(p),n.extend(u.node,u.offset)):(p.setEnd(u.node,u.offset),n.addRange(p))}}}var u=n(4),l=n(171),c=n(67),p=u.canUseDOM&&"selection"in document&&!("getSelection"in window),d={getOffsets:p?o:a,setOffsets:p?i:s};e.exports=d},function(e,t,n){"use strict";function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function a(e,t){for(var n=r(e),a=0,i=0;n;){if(3===n.nodeType){if(i=a+n.textContent.length,a=t)return{node:n,offset:t-a};a=i}n=r(o(n))}}e.exports=a},function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&u.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function o(e,t){if(_||null==v||v!==c())return null;var n=r(v);if(!b||!f(b,n)){b=n;var o=l.getPooled(g.select,y,e,t);return o.type="select",o.target=v,i.accumulateTwoPhaseDispatches(o),o}return null}var a=n(10),i=n(22),s=n(4),u=n(89),l=n(14),c=n(90),p=n(68),d=n(13),f=n(86),m=a.topLevelTypes,h=s.canUseDOM&&"documentMode"in document&&document.documentMode",""+n+" "),i=""+a+r;return u.default.createElement("div",null,u.default.createElement("div",{className:"gs-u-vh qa-visually-hidden-title",dangerouslySetInnerHTML:{__html:i}}),u.default.createElement("div",{className:"lx-stream-post-quote__body gs-u-mb qa-blockquote",dangerouslySetInnerHTML:{__html:t},"aria-hidden":"true"}))}return u.default.createElement("div",null,u.default.createElement("span",{className:"gs-u-vh qa-visually-hidden-title"},o),u.default.createElement("div",{className:"lx-stream-post-quote__body gs-u-mb qa-blockquote","aria-hidden":"true"},u.default.createElement("p",{dangerouslySetInnerHTML:{__html:t}})))},m=function(e){var t=e.element.children,n=e.element.name,r=(0,d.default)(n),a=c.default.findFirst(t,r.textLocator),s=e.renderChildrenToStaticMarkup(a),l=c.default.findText(t,r.sourceLocator),p=c.default.findFirst(t,r.sourceLocator),m=(0,i.default)(["lx-stream-post-quote","lx-stream-post-quote--"+r.className,"gs-u-mb-alt","gs-u-mr-alt+","gs-u-ml-alt+","gs-u-mr-alt++@m","gs-u-ml-alt++@m"]),h=(0,i.default)(["gs-u-mr","lx-stream-post-quote__icon","lx-stream-post-quote__icon--"+r.icon,"gel-icon","gel-icon-"+r.gelIconClass]),g=void 0,v=void 0;p&&p.attributes&&(g=c.default.findFirst(p.attributes,"title").value)&&(v=u.default.createElement("span",{className:"lx-stream-post-quote__cite-profession qa-blockquote-source-profession"},g));var y=void 0!==g?g:"",b=e.getTranslationFor("from"),_="string"==typeof l?b+" "+l+" "+y:"",P=e.getTranslationFor(r.hiddenTitleText)+":";return u.default.createElement("blockquote",o({},e.attributes,{className:m}),f(n,s,P,_),u.default.createElement("footer",{className:"lx-stream-post-quote__cite gel-brevier gel-brevier-bold","aria-hidden":"true"},u.default.createElement("cite",{className:"lx-stream-post-quote__cite-name qa-blockquote-source"},l),v),u.default.createElement("div",{className:h},r.iconSvg))};m.displayName="Blockquote",m.propTypes={attributes:u.default.PropTypes.object.isRequired,renderChildrenToStaticMarkup:u.default.PropTypes.func.isRequired,element:u.default.PropTypes.object.isRequired},t.default=m,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a={sms:{hiddenTitleText:"sms_message",gelIconClass:"sms",icon:"mobile",className:"sms",textLocator:"smsText",sourceLocator:"smsSource",iconSvg:o.default.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32"},o.default.createElement("path",{d:"M22 0v2H6v30h20V0h-4zm-9 28h-3v-2h3v2zm0-4h-3v-2h3v2zm0-4h-3v-2h3v2zm5 8h-4v-2h4v2zm0-4h-4v-2h4v2zm0-4h-4v-2h4v2zm4 8h-3v-2h3v2zm0-4h-3v-2h3v2zm0-4h-3v-2h3v2zm0-5H10V6h12v9z"}))},quote:{hiddenTitleText:"quote_message",gelIconClass:"quote",icon:"quote",className:"default",textLocator:"quoteText",sourceLocator:"quoteSource",iconSvg:o.default.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32"},o.default.createElement("path",{d:"M0 17v15h15V17H7c.2-5.9 2.4-8.8 8-9.9V0C6.7 1.2.2 8.3 0 17zM32 7.1V0c-8.3 1.2-14.8 8.3-15 17v15h15V17h-8c.2-5.9 2.4-8.8 8-9.9z"}))},email:{hiddenTitleText:"email_message",gelIconClass:"email",icon:"email",className:"email",textLocator:"emailText",sourceLocator:"emailSource",iconSvg:o.default.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32"},o.default.createElement("path",{d:"M16 19.4l16-15V3H0v26h32V8l-4 4v13H4V8.2l12 11.2zm0-2.8L5.8 7h20.4L16 16.6z"}))}},i=function(e){return a[e]||a.quote};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t-1||e.indexOf("bbc.in")>-1},m=function(e){var t=e.element.children,n=d.default.findText(t,"altText"),r=d.default.findFirst(t,"url"),a=d.default.findFirst(r.attributes,"href").value,s={href:a,alt:n},l=d.default.findText(t,"caption");if(!f(a)){var p=i.default.createElement(c.default,null);l+=u.default.renderToStaticMarkup(p)}return i.default.createElement("a",o({},s,{dangerouslySetInnerHTML:{__html:l}}))};m.displayName="Link",m.propTypes={element:i.default.PropTypes.object.isRequired},t.default=m,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(){return o.default.createElement("span",{className:"lx-stream-post-body__external-link gel-icon gel-icon-external-link"},o.default.createElement("svg",{viewBox:"0 0 32 32"},o.default.createElement("path",{d:"M12 0v5h11.5l-5 5H0v22h22V17.5l-2 2V30H2V12h14.5l-7.8 7.7 3.6 3.6L27 8.5V20h5V0z"})))};a.displayName="ExternalLink",t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(e){return o.default.createElement("ol",{dangerouslySetInnerHTML:{__html:e}})},i=function(e){return o.default.createElement("ul",{dangerouslySetInnerHTML:{__html:e}})},s=function(e){var t=e.renderChildrenToStaticMarkup({children:e.element.children});return"ordered"===e.attributes.type?a(t):i(t)};s.displayName="List",s.propTypes={attributes:o.default.PropTypes.object.isRequired,renderChildrenToStaticMarkup:o.default.PropTypes.func.isRequired,element:o.default.PropTypes.object.isRequired},t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(e){var t=e.renderChildrenToStaticMarkup({children:e.element.children});return o.default.createElement("li",{dangerouslySetInnerHTML:{__html:t}})};a.displayName="ListItem",a.propTypes={renderChildrenToStaticMarkup:o.default.PropTypes.func.isRequired,element:o.default.PropTypes.object.isRequired},t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t0});return!!(t&&t.length>0)&&t[0]},b=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.url!==e.url||this.props.title!==e.title}},{key:"render",value:function(){var e=this.props.title,t=v(this.props.url),n=y(this.props);if(n){(0,g.profileStart)("embedRender:"+t);var r=n.component,o={matches:n.matches,title:e,url:t};return c.default.createElement(r,{title:e,url:n.transform(o),cssClasses:n.cssClasses,componentDidMount:n.componentDidMount})}return c.default.createElement(m.default,this.props)}}]),t}(c.default.Component);b.displayName="LazyEmbed",b.propTypes={title:c.default.PropTypes.string.isRequired,url:c.default.PropTypes.string.isRequired,isVisible:c.default.PropTypes.bool.isRequired},t.default=(0,h.IntersectComponent)(b),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(211),a=r(o),i=n(212),s=r(i),u=n(213),l=r(u),c=n(20),p=function(e){return e.url},d=function(e){return"https://www.youtube.com/embed/{identifier}".replace("{identifier}",e.matches[1])};t.default={youtube:{regex:/http(?:s)?:\/\/(?:www\.)?youtu(?:be.com|.be)\/(?:watch)?(?:\/\?)?(?:.*v=)?(.[^]*)/i,transform:d,component:s.default,componentDidMount:function(e){(0,c.profileEnd)("embedRender:"+e.url)}},twitter:{regex:/^http.+twitter\.com\/.*\/status\/(.*)/i,transform:p,component:a.default,cssClasses:"twitter-tweet",componentDidMount:function(e,t){requirejs(["//platform.twitter.com/widgets.js"],function(){twttr.widgets.load(t),(0,c.profileEnd)("embedRender:"+e.url)})}},instagram:{regex:/^http.+instagr(?:\.am|am\.com)/i,transform:p,component:a.default,cssClasses:"instagram-media",componentDidMount:function(e,t){requirejs(["//platform.instagram.com/en_GB/embeds.js"],function(){instgrm.Embeds.process(t),(0,c.profileEnd)("embedRender:"+e.url)})}},facebookVideo:{regex:/(http.+www\.facebook\.com\/video\.php.*|http.+www\.facebook\.com\/.*\/videos\/.*)/i,transform:p,component:l.default,componentDidMount:function(e,t){requirejs(["//connect.facebook.net/en_US/all.js#xfbml=1&version=v2.5"],function(){window.FB.XFBML.parse(t),(0,c.profileEnd)("embedRender:"+e.url)})}},facebookPost:{regex:/(http.+www\.facebook\.com\/.*\/(posts|activity|photos)\/.*|http.+www\.facebook\.com\/(media\/set|questions|notes|photos|permalink\.php).*)/i,transform:p,component:l.default,componentDidMount:function(e,t){requirejs(["//connect.facebook.net/en_US/all.js#xfbml=1&version=v2.5"],function(){window.FB.XFBML.parse(t),(0,c.profileEnd)("embedRender:"+e.url)})}}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n0?t.link:"",r={role:t.role,name:t.name,link:n};return a.default.createElement(h.default,{contributor:r,brandingTool:e.brandingTool,baseUrl:e.baseUrl})}return a.default.createElement("noscript",null)},b=function(e){return a.default.createElement("div",{className:"gel-3/8@l"},a.default.createElement("a",{href:e.relatedUrl,className:"qa-story-image-link",onClick:e.postIstats()},a.default.createElement("div",{className:"lx-stream-related-story--index-image-wrapper qa-story-image-wrapper"},a.default.createElement(s.default,{className:"lx-stream-related-story--index-image qa-story-image",src:e.indexImage.ichefHref,alt:e.indexImage.altText}))))},_=function(e){var t="cta_text";"LIV"===e.type&&(e.liveState.isLive?t="live_cta":e.liveState.isCatchUp&&(t="catch_up_cta"));var n=(0,p.default)("gs-o-button","lx-stream-related-story--cta-button","gel-long-primer-bold","qa-story-text-cta",{"br-page-link-onbg br-page-bg-ontext br-page-link-onbg br-page-linkhover-onbg--hover br-page-bg-ontext--hover":"true"===e.brandingTool}),r=(0,p.default)("lx-stream-related-story--cta-text",{"br-page-bg-ontext br-page-bg-ontext--hover":"true"===e.brandingTool}),o=(0,p.default)({"br-page-bg-ontext br-page-bg-ontext--hover":"true"===e.brandingTool});return a.default.createElement("a",{href:e.relatedUrl,className:"qa-story-cta-link",onClick:e.postIstats()},a.default.createElement("span",{className:n},a.default.createElement("span",{className:r},e.getTranslationFor(t)),a.default.createElement(l.default,{iconName:"next",additionalClassNames:o})))},P=function(e){return a.default.createElement("div",{className:"lx-stream-related-story"},g(e)?a.default.createElement(b,{relatedUrl:e.relatedUrl,indexImage:e.indexImage,postIstats:function(){return v(e)}}):null,a.default.createElement("div",{className:g(e)?"gel-5/8@l":""},y(e),e.summary?a.default.createElement("p",{className:"lx-stream-related-story--summary qa-story-summary"},e.summary):null,a.default.createElement(_,{getTranslationFor:e.getTranslationFor,liveState:e.liveState,relatedUrl:e.relatedUrl,type:e.type,postIstats:function(){return v(e)},brandingTool:e.brandingTool})))};P.displayName="StoryType",y.propTypes={contributor:o.PropTypes.shape({name:o.PropTypes.string,role:o.PropTypes.string,link:o.PropTypes.string}),brandingTool:o.PropTypes.string.isRequired,baseUrl:o.PropTypes.string},y.defaultProps={contributor:void 0,baseUrl:void 0},P.propTypes={summary:o.PropTypes.string.isRequired,indexImage:o.PropTypes.shape({ichefHref:o.PropTypes.string.isRequired,altText:o.PropTypes.string}),relatedUrl:o.PropTypes.string.isRequired},P.defaultProps={indexImage:void 0},b.propTypes={indexImage:o.PropTypes.shape({ichefHref:o.PropTypes.string.isRequired,altText:o.PropTypes.string}).isRequired,relatedUrl:o.PropTypes.string.isRequired,postIstats:o.PropTypes.func.isRequired},_.propTypes={type:o.PropTypes.string.isRequired,liveState:o.PropTypes.shape({isCatchUp:o.PropTypes.bool.isRequired,isComingUp:o.PropTypes.bool.isRequired,isLive:o.PropTypes.bool.isRequired}),postIstats:o.PropTypes.func.isRequired,brandingTool:o.PropTypes.string.isRequired},_.defaultProps={liveState:{isCatchUp:!1,isComingUp:!1,isLive:!0}},t.default=P,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),i=n(35),s=r(i),u=n(28),l=r(u),c=n(19),p=n(18),d=function(e){return function(){var t=(0,p.getIstatsData)(e,"related-gallery");(0,c.configureAndSendIstats)("click","related-gallery",t)}},f=function(e){return e.summary&&e.summary.length>0?a.default.createElement("p",{className:"lx-media-asset-summary qa-photogallery-summary gel-pica"},e.summary):a.default.createElement("noscript",null)},m=function(e){return e.indexImage.copyrightHolder?a.default.createElement("div",{className:"lx-media-asset__copyright gel-minion qa-photogallery-image-copyright"},a.default.createElement("span",{"aria-hidden":"true"},e.indexImage.copyrightHolder)):a.default.createElement("noscript",null)},h=function(e){if(e.indexImage){var t=e.indexImage.ichefHref,n=a.default.createElement(s.default,{className:"qa-responsive-image",src:t,delayed:!0});return a.default.createElement("div",{className:"lx-media-asset__image gs-o-responsive-image gs-o-responsive-image--16by9 qa-photogallery-image"},n,m(e))}return a.default.createElement("div",{className:"lx-media-asset__image gs-o-responsive-image gs-o-responsive-image--16by9 qa-photogallery-image"},a.default.createElement(s.default,{className:"qa-responsive-image"}))},g=function(e){var t=e.photogallery.galleryImageCount;return t+" "+(1===t?e.getTranslationFor("photo"):e.getTranslationFor("photos"))},v=function(e,t){return a.default.createElement("div",{className:"lx-stream-asset__gallery-cta-text qa-photogallery-count"},a.default.createElement("span",{"aria-hidden":"true",id:t},g(e)))},y=function(e){var t="count_"+e.assetId;return a.default.createElement("div",{className:"gel-body-copy lx-stream-post-body"},f(e),a.default.createElement("div",{className:"lx-stream-asset lx-stream-asset--pgl"},a.default.createElement("a",{className:"lx-stream-asset__link qa-photogallery-link",href:e.relatedUrl,"aria-labelledby":""+e.titleId,"aria-describedby":t,onClick:d(e)},a.default.createElement("div",{className:"gs-o-media-island lx-media-asset__island"},h(e),a.default.createElement("div",{className:"gs-o-media-island__icon lx-stream-asset__gallery-cta gel-long-primer-bold"},a.default.createElement("span",{className:"lx-stream-asset__gallery-cta-icon gel-icon"},a.default.createElement(l.default,{iconName:"image"})),v(e,t))))))};y.propTypes={relatedUrl:a.default.PropTypes.string.isRequired,assetId:a.default.PropTypes.string.isRequired,titleId:a.default.PropTypes.string.isRequired,summary:a.default.PropTypes.string},g.propTypes={getTranslationFor:a.default.PropTypes.func.isRequired},v.propTypes={getTranslationFor:a.default.PropTypes.func.isRequired},h.propTypes={indexImage:a.default.PropTypes.shape({copyrightHolder:a.default.PropTypes.string,ichefHref:a.default.PropTypes.string.isRequired,altText:a.default.PropTypes.string})},m.propTypes={indexImage:a.default.PropTypes.shape({copyrightHolder:a.default.PropTypes.string}),getTranslationFor:a.default.PropTypes.func.isRequired},v.propTypes={getTranslationFor:a.default.PropTypes.func.isRequired},f.propTypes={summary:a.default.PropTypes.shape({length:a.default.PropTypes.string.isRequired}).isRequired},m.defaultProps={indexImage:void 0},h.defaultProps={indexImage:void 0},y.defaultProps={summary:void 0},y.displayName="PhotoGalleryType",t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t-1?"https://ichef.bbci.co.uk/images/ic/raw/p05d1g60.png":this.state.shareUrl.indexOf("/news")>-1?"http://ichef.bbci.co.uk/images/ic/raw/p05d1g0s.png":"https://ichef.bbci.co.uk/images/ic/raw/p05d1fth.png"}},{key:"getTwitterHandle",value:function(){return this.state.shareUrl.indexOf("/sport")>-1?"BBCSport":this.state.shareUrl.indexOf("/news")>-1?"BBCNews":"BBC"}},{key:"getPostShareImage",value:function(){var e=this.props.body.filter(function(e){var t=e.name;return"image"===t||"video"===t})[0];return e&&(e.imageChefHref||e.holdingImageUrl).replace("{width}","320")}},{key:"getShareImage",value:function(){var e=this.props,t=e.type,n=e.body,r=e.media;return"POST"===t&&n.length>0?this.getPostShareImage()||this.getFallbackLogo():"MAP"===t&&r.length?r[0].image&&r[0].image.href||this.getFallbackLogo():"CLIP"===t&&r?r.holdingImageUrl||this.getFallbackLogo():this.getFallbackLogo()}},{key:"buildLinkName",value:function(){return encodeURIComponent(this.props.assetId+"&"+this.props.title+"&"+this.props.firstPublished).replace(/'/g,"%27").replace(/"/g,"%22")}},{key:"sendIStats",value:function(e){var t=this;return function(){var n=(0,m.getIstatsData)(t.props);(0,f.configureAndSendIstats)(e,"share",n)}}},{key:"toggleSharePanel",value:function(){var e=this.props,t=e.assetId,n=e.activeDropdown,r=e.setActiveDropdown,o=n===t?"":t;return this.sendIStats("share_panel")(),this.setState({isOpen:!!o}),r(o)}},{key:"twitterShareUrl",value:function(){return this.state.shareUrl+"?ns_mchannel=social&ns_source=twitter&ns_campaign=bbc_live&ns_linkname="+this.buildLinkName(this.props)+"&ns_fee=0&pinned_post_locator="+this.props.locator+"&pinned_post_asset_id="+this.props.assetId+"&pinned_post_type=share"}},{key:"facebookShareUrl",value:function(){return this.state.shareUrl+"?ns_mchannel=social&ns_source=facebook&ns_campaign=bbc_live&ns_linkname="+this.buildLinkName(this.props)+"&ns_fee=0&pinned_post_locator="+this.props.locator+"&pinned_post_asset_id="+this.props.assetId+"&pinned_post_type=share"}},{key:"setInitialState",value:function(){var e="";if(this.props.relatedUrl)e=window.location.origin+this.props.relatedUrl;else{e=window.location.href;var t=e.match(h);if(t)e=t[0];else{var n=e.match(g);n&&(e=n[0])}}this.setState({shareUrl:e,pageTitle:document.title})}},{key:"render",value:function(){var e=this,t=this.props,n=t.activeDropdown,r=t.assetId,o=t.getTranslationFor,a=t.title,i=t.cssDirection,s=t.shareToolsTitleId,u=t.useReactionsStreamV4Toggle,c=this.state,f=c.isOpen,m=c.shareUrl,h=c.pageTitle,g=(0,p.default)({"ev-button":"true"===this.props.brandingTool},"qa-facebook-share","lx-share-tools__cta"),y=(0,p.default)({"ev-button":"true"===this.props.brandingTool},"qa-twitter-share","lx-share-tools__cta"),b=n===r&&f,_=m.indexOf("bbc.com")>-1?"https://www.bbc.com":"https://www.bbc.co.uk",P={shareText:o("share"),viewMoreShare:o("view_more_share"),shareThisPost:o("share_this_post"),copyThisLink:o("copy_this_link"),readMoreOnLinks:o("read_more_on_links"),readMoreOnLinksLabel:o("read_more_on_links_label"),shareThisPostOn:o("share_this_post_on"),closeButtonLabel:o("close_button_label"),copyShareLinkLabel:o("copy_share_link_label")},x=P.shareThisPostOn+" Facebook",T=P.shareThisPostOn+" Twitter",E=u?"alternate-up":"alternate-transformation",C=u?"right":"left";return l.default.createElement("ul",{"aria-labelledby":s,className:"lx-share-tools__items lx-share-tools__items--align-"+C+" qa-share-tools"},l.default.createElement("li",null,l.default.createElement(d.Facebook,{link:this.facebookShareUrl(),name:h,description:a,image:this.getShareImage(),classes:g,caption:_,customFacebookAriaLabel:x,clickCallback:this.sendIStats("share_facebook"),small:!0,noButtonPadding:!0,brandingTool:this.props.brandingTool})),l.default.createElement("li",null,l.default.createElement(d.Twitter,{link:this.twitterShareUrl(),description:this.props.title,viaHandle:this.getTwitterHandle(),classes:y,customTwitterAriaLabel:T,clickCallback:this.sendIStats("share_twitter"),small:!0,noButtonPadding:!0,brandingTool:this.props.brandingTool})),l.default.createElement("li",null,l.default.createElement(d.SharePanel,{shareButtonComponent:function(t){return l.default.createElement(v,{translations:P,buttonProps:t,brandingTool:e.props.brandingTool,isOpen:b,assetId:r})},accessibilityId:"share-popup-"+r,classes:"lx-share-tools__panel",headerText:P.shareThisPost,readMoreText:P.readMoreOnLinks,readMoreTextAriaLabel:P.readMoreOnLinksLabel,closeButtonLabel:P.closeButtonLabel,copyShareLinkLabel:P.copyShareLinkLabel,direction:E,cssDirection:i,clickCallback:this.toggleSharePanel,onCloseCallback:this.toggleSharePanel,isOpen:b},l.default.createElement("div",{className:"gs-c-share-tools__button share-tools__button--no-hover-effect"},l.default.createElement(d.CopyLinkBox,{theme:"dark",link:this.twitterShareUrl(),shareText:P.copyThisLink,feedbackDuration:2e3,classes:"lx-share-tools__copylink-box"})))))}}]),t}(u.Component);y.propTypes={type:u.PropTypes.string.isRequired,assetId:u.PropTypes.string.isRequired,firstPublished:u.PropTypes.string.isRequired,locator:u.PropTypes.string.isRequired,activeDropdown:u.PropTypes.string.isRequired,setActiveDropdown:u.PropTypes.func.isRequired,brandingTool:u.PropTypes.string.isRequired,getTranslationFor:u.PropTypes.func.isRequired,title:u.PropTypes.string.isRequired,cssDirection:u.PropTypes.string.isRequired,body:u.PropTypes.shape([{filter:u.PropTypes.string.isRequired,length:u.PropTypes.number.isRequired}]).isRequired,media:u.PropTypes.shape({}).isRequired,useReactionsStreamV4Toggle:u.PropTypes.bool.isRequired,postIndex:u.PropTypes.number.isRequired,postHasVideo:u.PropTypes.bool.isRequired,postHasImage:u.PropTypes.bool.isRequired,postHasSocial:u.PropTypes.bool.isRequired,postIsBreakingNews:u.PropTypes.bool.isRequired,mode:u.PropTypes.string.isRequired,shareToolsTitleId:u.PropTypes.string.isRequired,relatedUrl:u.PropTypes.string},y.defaultProps={relatedUrl:null},t.default=y},function(e,t){e.exports=Morph.modules["bbc-morph-share-tools@4.3.1"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e.title||e.subtitle||e.icon},o=function(e){return"POST"===e.type||"CIT"===e.type},a=function(e){return e.body&&e.body.length>0},i=function(e){return"STY"===e.type||"CSP"===e.type},s=function(e,t){return!(!e||!e.body)&&e.body.some(function(e){return e.name===t})},u=function(e){return s(e,"video")||"MAP"===e.type||"video"===e.mediaType},l=function(e){return s(e,"image")},c=function(e){return Boolean(e&&e.options&&e.options.isBreakingNews&&void 0!==e.options.isBreakingNews)},p=function(e){return Boolean(e&&e.options&&e.options.isPriorityPost&&void 0!==e.options.isPriorityPost)};t.default={postHasHeading:r,isPostType:o,postIsStory:i,hasValidContent:a,postHasMediaType:s,postHasVideo:u,postHasImage:l,postIsBreakingNews:c,postIsPriority:p},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(){return o.default.createElement("svg",{className:"qa-loading-icon-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},o.default.createElement("linearGradient",{id:"a",gradientUnits:"userSpaceOnUse",x1:"1.224",y1:"8.111",x2:"25.888",y2:"21.225"},o.default.createElement("stop",{offset:"0",stopColor:"#5a5a5a"}),o.default.createElement("stop",{offset:"1",stopColor:"#5a5a5a",stopOpacity:"0"})),o.default.createElement("path",{d:"M26 7l-3 1.7c.9 1.5 1.4 3.3 1.4 5.2 0 5.8-4.7 10.5-10.5 10.5-5.7 0-10.4-4.7-10.4-10.4C3.5 8.2 7.8 3.5 14 3.5V0C6.1 0 0 6.2 0 14c0 7.7 6.2 14 14 14 7.7 0 14-6.2 14-14-.1-2.6-.8-5-2-7z",fill:"url(#a)"}))},i=function(e){return o.default.createElement("div",{className:"gs-u-align-center gs-u-pv-alt+ gs-u-ph+ lx-loading-message"},o.default.createElement("span",{"aria-hidden":"true",className:"gs-u-mb gel-icon lx-loading-message__icon qa-loading-icon"},o.default.createElement(a,null)),o.default.createElement("p",{className:"gs-u-m0 gel-body-copy qa-loading-text"},e.loadingText))};i.propTypes={loadingText:o.default.PropTypes.string.isRequired},t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e;for(var r in t)t[r]&&(n=n.replace("{"+r+"}",t[r]));return n},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.getMode=void 0;var u=function(){function e(e,t){for(var n=0;n
